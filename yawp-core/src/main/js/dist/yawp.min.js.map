{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///yawp.min.js","webpack:///webpack/bootstrap a4615abbcc8daceb9bc5","webpack:///./yawp.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","config","callback","baseUrl","url","extend","result","arguments","i","l","length","obj","attrname","toUrlParam","jsonParams","Object","keys","map","k","encodeURIComponent","join","defaultAjax","type","options","fail","done","exception","then","error","request","query","callbacks","onreadystatechange","XMLHttpRequest","readyState","status","JSON","parse","responseText","responseJSON","open","async","setRequestHeader","send","data","extractId","object","where","q","slice","order","sort","limit","fetch","setupQuery","addQueryParameter","stringify","decode","decodeURIComponent","list","first","objects","only","repository","create","update","patch","destroy","actions","actionOptions","action","json","setJson","params","addQueryParameters","get","put","_patch","post","_delete","yawp","baseArg","normalize","arg","ajaxOptions","from","parentBaseArg","parentBase","transform","t","sync","key","value","api"],"mappings":"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","file":"yawp.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yawp\"] = factory();\n\telse\n\t\troot[\"yawp\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yawp\"] = factory();\n\telse\n\t\troot[\"yawp\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = (function () {\n\t\n\t\tvar baseUrl = '/api';\n\t\n\t\tfunction config(callback) {\n\t\t\tvar c = {\n\t\t\t\tbaseUrl: function (url) {\n\t\t\t\t\tbaseUrl = url;\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tcallback(c);\n\t\t}\n\t\n\t\tfunction extend() {\n\t\t\tvar result = arguments[0] || {};\n\t\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\t\tvar obj = arguments[i];\n\t\t\t\tfor (var attrname in obj) {\n\t\t\t\t\tresult[attrname] = obj[attrname];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn result;\n\t\t}\n\t\n\t\tfunction toUrlParam(jsonParams) {\n\t\t\treturn Object.keys(jsonParams).map(function(k) {\n\t\t\t\treturn encodeURIComponent(k) + '=' + encodeURIComponent(jsonParams[k])\n\t\t\t}).join('&')\n\t\t}\n\t\n\t\tfunction defaultAjax(type, options) {\n\t\t\tvar fail\n\t\t\t\t,done\n\t\t\t\t,exception\n\t\t\t\t,then\n\t\t\t\t,error\n\t\t\t\t,request\n\t\t\t\t,url;\n\t\n\t\t\turl = baseUrl + options.url + (options.query ? '?' + toUrlParam(options.query) : '');\n\t\n\t\t\tvar callbacks = {\n\t\t\t\tfail: function (callback) {\n\t\t\t\t\tfail = callback;\n\t\t\t\t\trequest.onreadystatechange();\n\t\t\t\t\treturn callbacks;\n\t\t\t\t},\n\t\t\t\tdone: function (callback) {\n\t\t\t\t\tdone = callback;\n\t\t\t\t\trequest.onreadystatechange();\n\t\t\t\t\treturn callbacks;\n\t\t\t\t},\n\t\t\t\texception: function (callback) {\n\t\t\t\t\texception = callback;\n\t\t\t\t\trequest.onreadystatechange();\n\t\t\t\t\treturn callbacks;\n\t\t\t\t},\n\t\t\t\tthen: function (callback) {\n\t\t\t\t\tthen = callback;\n\t\t\t\t\trequest.onreadystatechange();\n\t\t\t\t\treturn callbacks;\n\t\t\t\t},\n\t\t\t\terror: function (callback) {\n\t\t\t\t\terror = callback;\n\t\t\t\t\trequest.onreadystatechange();\n\t\t\t\t\treturn callbacks;\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\trequest = new XMLHttpRequest();\n\t\t\trequest.onreadystatechange = function() {\n\t\t\t\tif (request.readyState === 4) {\n\t\t\t\t\tif(request.status === 200) {\n\t\t\t\t\t\tif(done) {\n\t\t\t\t\t\t\tdone(JSON.parse(request.responseText));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(then) {\n\t\t\t\t\t\t\tthen(JSON.parse(request.responseText));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(fail) {\n\t\t\t\t\t\t\tfail(request);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(error) {\n\t\t\t\t\t\t\terror(extend({}, request, {responseJSON:JSON.parse(request.responseText)}));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(exception) {\n\t\t\t\t\t\t\texception(JSON.parse(request.responseText));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\trequest.open(type, url, options.async);\n\t\t\trequest.setRequestHeader(\"Content-type\", \"application/json;charset=UTF-8\");\n\t\t\trequest.send(options.data);\n\t\n\t\t\treturn callbacks;\n\t\t}\n\t\n\t\tfunction extractId(object) {\n\t\t\tif (object.id) {\n\t\t\t\treturn object.id;\n\t\t\t}\n\t\t\tthrow 'use yawp(id) if your endpoint does not have a @Id field called id';\n\t\t}\n\t\n\t\tfunction query(options) {\n\t\t\tvar q = {};\n\t\n\t\t\tfunction where(data) {\n\t\t\t\tif (arguments.length === 1) {\n\t\t\t\t\tq.where = data;\n\t\t\t\t} else {\n\t\t\t\t\tq.where = [].slice.call(arguments);\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\tfunction order(data) {\n\t\t\t\tq.order = data;\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\tfunction sort(data) {\n\t\t\t\tq.sort = data;\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\tfunction limit(data) {\n\t\t\t\tq.limit = data;\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\tfunction fetch(callback) {\n\t\t\t\treturn defaultAjax('GET', options()).done(callback);\n\t\t\t}\n\t\n\t\t\tfunction setupQuery() {\n\t\t\t\tif (Object.keys(q).length > 0) {\n\t\t\t\t\toptions.addQueryParameter('q', JSON.stringify(q));\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfunction url(decode) {\n\t\t\t\tsetupQuery();\n\t\t\t\tvar url = baseUrl + options().url + (options().query ? '?' + toUrlParam(options().query) : '');\n\t\t\t\tif (decode) {\n\t\t\t\t\treturn decodeURIComponent(url);\n\t\t\t\t}\n\t\t\t\treturn url;\n\t\t\t}\n\t\n\t\t\tfunction list(callback) {\n\t\t\t\tsetupQuery();\n\t\t\t\treturn defaultAjax('GET', options()).done(callback);\n\t\t\t}\n\t\n\t\t\tfunction first(callback) {\n\t\t\t\tlimit(1);\n\t\n\t\t\t\treturn list(function (objects) {\n\t\t\t\t\tvar object = objects.length == 0 ? null : objects[0];\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback(object);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tfunction only(callback) {\n\t\t\t\treturn list(function (objects) {\n\t\t\t\t\tif (objects.length != 1) {\n\t\t\t\t\t\tthrow 'called only but got ' + objects.length + ' results';\n\t\t\t\t\t}\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback(objects[0]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\twhere: where,\n\t\t\t\torder: order,\n\t\t\t\tsort: sort,\n\t\t\t\tlimit: limit,\n\t\t\t\tfetch: fetch,\n\t\t\t\tlist: list,\n\t\t\t\tfirst: first,\n\t\t\t\tonly: only,\n\t\t\t\turl: url\n\t\t\t};\n\t\t}\n\t\n\t\tfunction repository(options) {\n\t\t\tfunction create(object) {\n\t\t\t\toptions().data = JSON.stringify(object);\n\t\t\t\treturn defaultAjax('POST', options());\n\t\t\t}\n\t\n\t\t\tfunction update(object) {\n\t\t\t\toptions().data = JSON.stringify(object);\n\t\t\t\treturn defaultAjax('PUT', options());\n\t\t\t}\n\t\n\t\t\tfunction patch(object) {\n\t\t\t\toptions().data = JSON.stringify(object);\n\t\t\t\treturn defaultAjax('PATCH', options());\n\t\t\t}\n\t\n\t\t\tfunction destroy() {\n\t\t\t\treturn defaultAjax('DELETE', options());\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tcreate: create,\n\t\t\t\tupdate: update,\n\t\t\t\tpatch: patch,\n\t\t\t\tdestroy: destroy\n\t\t\t};\n\t\t}\n\t\n\t\tfunction actions(options) {\n\t\t\tfunction actionOptions(action) {\n\t\t\t\toptions().url += '/' + action;\n\t\t\t\treturn options();\n\t\t\t}\n\t\n\t\t\tfunction json(object) {\n\t\t\t\toptions.setJson(object);\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\tfunction params(params) {\n\t\t\t\toptions.addQueryParameters(params);\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\tfunction get(action) {\n\t\t\t\treturn defaultAjax('GET', actionOptions(action));\n\t\t\t}\n\t\n\t\t\tfunction put(action) {\n\t\t\t\treturn defaultAjax('PUT', actionOptions(action));\n\t\t\t}\n\t\n\t\t\tfunction _patch(action) {\n\t\t\t\treturn defaultAjax('PATCH', actionOptions(action));\n\t\t\t}\n\t\n\t\t\tfunction post(action) {\n\t\t\t\treturn defaultAjax('POST', actionOptions(action));\n\t\t\t}\n\t\n\t\t\tfunction _delete(action) {\n\t\t\t\treturn defaultAjax('DELETE', actionOptions(action));\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tjson: json,\n\t\t\t\tparams: params,\n\t\t\t\tget: get,\n\t\t\t\tput: put,\n\t\t\t\t_patch: _patch,\n\t\t\t\tpost: post,\n\t\t\t\t_delete: _delete\n\t\t\t};\n\t\t}\n\t\n\t\tfunction yawp(baseArg) {\n\t\t\tfunction normalize(arg) {\n\t\t\t\tif (!arg) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\tif (arg instanceof Object) {\n\t\t\t\t\treturn extractId(arg);\n\t\t\t\t}\n\t\t\t\treturn arg;\n\t\t\t}\n\t\n\t\t\tvar ajaxOptions = {\n\t\t\t\turl: normalize(baseArg),\n\t\t\t\tasync: true\n\t\t\t};\n\t\n\t\t\tfunction options() {\n\t\t\t\treturn ajaxOptions;\n\t\t\t}\n\t\n\t\t\toptions.setJson = function (object) {\n\t\t\t\tajaxOptions.data = JSON.stringify(object);\n\t\t\t};\n\t\n\t\t\toptions.addQueryParameters = function (params) {\n\t\t\t\tajaxOptions.query = extend(ajaxOptions.query, params);\n\t\t\t};\n\t\n\t\t\toptions.addQueryParameter = function (key, value) {\n\t\t\t\tif (!ajaxOptions.query) {\n\t\t\t\t\tajaxOptions.query = {};\n\t\t\t\t}\n\t\t\t\tajaxOptions.query[key] = value;\n\t\t\t};\n\t\n\t\t\tfunction from(parentBaseArg) {\n\t\t\t\tvar parentBase = normalize(parentBaseArg);\n\t\t\t\toptions().url = parentBase + options().url;\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\tfunction transform(t) {\n\t\t\t\toptions.addQueryParameter('t', t);\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\tfunction sync() {\n\t\t\t\tajaxOptions.async = false;\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\treturn extend({\n\t\t\t\tfrom: from,\n\t\t\t\ttransform: transform,\n\t\t\t\tsync: sync\n\t\t\t}, query(options), repository(options), actions(options));\n\t\t}\n\t\n\t\tfunction update(object) {\n\t\t\tvar id = extractId(object);\n\t\t\treturn yawp(id).update(object);\n\t\t}\n\t\n\t\tfunction patch(object) {\n\t\t\tvar id = extractId(object);\n\t\t\treturn yawp(id).patch(object);\n\t\t}\n\t\n\t\tfunction destroy(object) {\n\t\t\tvar id = extractId(object);\n\t\t\treturn yawp(id).destroy(object);\n\t\t}\n\t\n\t\tvar api = {\n\t\t\tconfig: config,\n\t\t\tupdate: update,\n\t\t\tpatch: patch,\n\t\t\tdestroy: destroy\n\t\t};\n\t\n\t\treturn extend(yawp, api);\n\t\t\n\t})();\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** yawp.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a4615abbcc8daceb9bc5\n **/","module.exports = (function () {\n\n\tvar baseUrl = '/api';\n\n\tfunction config(callback) {\n\t\tvar c = {\n\t\t\tbaseUrl: function (url) {\n\t\t\t\tbaseUrl = url;\n\t\t\t}\n\t\t};\n\n\t\tcallback(c);\n\t}\n\n\tfunction extend() {\n\t\tvar result = arguments[0] || {};\n\n\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\tvar obj = arguments[i];\n\t\t\tfor (var attrname in obj) {\n\t\t\t\tresult[attrname] = obj[attrname];\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tfunction toUrlParam(jsonParams) {\n\t\treturn Object.keys(jsonParams).map(function(k) {\n\t\t\treturn encodeURIComponent(k) + '=' + encodeURIComponent(jsonParams[k])\n\t\t}).join('&')\n\t}\n\n\tfunction defaultAjax(type, options) {\n\t\tvar fail\n\t\t\t,done\n\t\t\t,exception\n\t\t\t,then\n\t\t\t,error\n\t\t\t,request\n\t\t\t,url;\n\n\t\turl = baseUrl + options.url + (options.query ? '?' + toUrlParam(options.query) : '');\n\n\t\tvar callbacks = {\n\t\t\tfail: function (callback) {\n\t\t\t\tfail = callback;\n\t\t\t\trequest.onreadystatechange();\n\t\t\t\treturn callbacks;\n\t\t\t},\n\t\t\tdone: function (callback) {\n\t\t\t\tdone = callback;\n\t\t\t\trequest.onreadystatechange();\n\t\t\t\treturn callbacks;\n\t\t\t},\n\t\t\texception: function (callback) {\n\t\t\t\texception = callback;\n\t\t\t\trequest.onreadystatechange();\n\t\t\t\treturn callbacks;\n\t\t\t},\n\t\t\tthen: function (callback) {\n\t\t\t\tthen = callback;\n\t\t\t\trequest.onreadystatechange();\n\t\t\t\treturn callbacks;\n\t\t\t},\n\t\t\terror: function (callback) {\n\t\t\t\terror = callback;\n\t\t\t\trequest.onreadystatechange();\n\t\t\t\treturn callbacks;\n\t\t\t}\n\t\t};\n\n\t\trequest = new XMLHttpRequest();\n\t\trequest.onreadystatechange = function() {\n\t\t\tif (request.readyState === 4) {\n\t\t\t\tif(request.status === 200) {\n\t\t\t\t\tif(done) {\n\t\t\t\t\t\tdone(JSON.parse(request.responseText));\n\t\t\t\t\t}\n\t\t\t\t\tif(then) {\n\t\t\t\t\t\tthen(JSON.parse(request.responseText));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(fail) {\n\t\t\t\t\t\tfail(request);\n\t\t\t\t\t}\n\t\t\t\t\tif(error) {\n\t\t\t\t\t\terror(extend({}, request, {responseJSON:JSON.parse(request.responseText)}));\n\t\t\t\t\t}\n\t\t\t\t\tif(exception) {\n\t\t\t\t\t\texception(JSON.parse(request.responseText));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trequest.open(type, url, options.async);\n\t\trequest.setRequestHeader(\"Content-type\", \"application/json;charset=UTF-8\");\n\t\trequest.send(options.data);\n\n\t\treturn callbacks;\n\t}\n\n\tfunction extractId(object) {\n\t\tif (object.id) {\n\t\t\treturn object.id;\n\t\t}\n\t\tthrow 'use yawp(id) if your endpoint does not have a @Id field called id';\n\t}\n\n\tfunction query(options) {\n\t\tvar q = {};\n\n\t\tfunction where(data) {\n\t\t\tif (arguments.length === 1) {\n\t\t\t\tq.where = data;\n\t\t\t} else {\n\t\t\t\tq.where = [].slice.call(arguments);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tfunction order(data) {\n\t\t\tq.order = data;\n\t\t\treturn this;\n\t\t}\n\n\t\tfunction sort(data) {\n\t\t\tq.sort = data;\n\t\t\treturn this;\n\t\t}\n\n\t\tfunction limit(data) {\n\t\t\tq.limit = data;\n\t\t\treturn this;\n\t\t}\n\n\t\tfunction fetch(callback) {\n\t\t\treturn defaultAjax('GET', options()).done(callback);\n\t\t}\n\n\t\tfunction setupQuery() {\n\t\t\tif (Object.keys(q).length > 0) {\n\t\t\t\toptions.addQueryParameter('q', JSON.stringify(q));\n\t\t\t}\n\t\t}\n\n\t\tfunction url(decode) {\n\t\t\tsetupQuery();\n\t\t\tvar url = baseUrl + options().url + (options().query ? '?' + toUrlParam(options().query) : '');\n\t\t\tif (decode) {\n\t\t\t\treturn decodeURIComponent(url);\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\n\t\tfunction list(callback) {\n\t\t\tsetupQuery();\n\t\t\treturn defaultAjax('GET', options()).done(callback);\n\t\t}\n\n\t\tfunction first(callback) {\n\t\t\tlimit(1);\n\n\t\t\treturn list(function (objects) {\n\t\t\t\tvar object = objects.length == 0 ? null : objects[0];\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback(object);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction only(callback) {\n\t\t\treturn list(function (objects) {\n\t\t\t\tif (objects.length != 1) {\n\t\t\t\t\tthrow 'called only but got ' + objects.length + ' results';\n\t\t\t\t}\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback(objects[0]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn {\n\t\t\twhere: where,\n\t\t\torder: order,\n\t\t\tsort: sort,\n\t\t\tlimit: limit,\n\t\t\tfetch: fetch,\n\t\t\tlist: list,\n\t\t\tfirst: first,\n\t\t\tonly: only,\n\t\t\turl: url\n\t\t};\n\t}\n\n\tfunction repository(options) {\n\t\tfunction create(object) {\n\t\t\toptions().data = JSON.stringify(object);\n\t\t\treturn defaultAjax('POST', options());\n\t\t}\n\n\t\tfunction update(object) {\n\t\t\toptions().data = JSON.stringify(object);\n\t\t\treturn defaultAjax('PUT', options());\n\t\t}\n\n\t\tfunction patch(object) {\n\t\t\toptions().data = JSON.stringify(object);\n\t\t\treturn defaultAjax('PATCH', options());\n\t\t}\n\n\t\tfunction destroy() {\n\t\t\treturn defaultAjax('DELETE', options());\n\t\t}\n\n\t\treturn {\n\t\t\tcreate: create,\n\t\t\tupdate: update,\n\t\t\tpatch: patch,\n\t\t\tdestroy: destroy\n\t\t};\n\t}\n\n\tfunction actions(options) {\n\t\tfunction actionOptions(action) {\n\t\t\toptions().url += '/' + action;\n\t\t\treturn options();\n\t\t}\n\n\t\tfunction json(object) {\n\t\t\toptions.setJson(object);\n\t\t\treturn this;\n\t\t}\n\n\t\tfunction params(params) {\n\t\t\toptions.addQueryParameters(params);\n\t\t\treturn this;\n\t\t}\n\n\t\tfunction get(action) {\n\t\t\treturn defaultAjax('GET', actionOptions(action));\n\t\t}\n\n\t\tfunction put(action) {\n\t\t\treturn defaultAjax('PUT', actionOptions(action));\n\t\t}\n\n\t\tfunction _patch(action) {\n\t\t\treturn defaultAjax('PATCH', actionOptions(action));\n\t\t}\n\n\t\tfunction post(action) {\n\t\t\treturn defaultAjax('POST', actionOptions(action));\n\t\t}\n\n\t\tfunction _delete(action) {\n\t\t\treturn defaultAjax('DELETE', actionOptions(action));\n\t\t}\n\n\t\treturn {\n\t\t\tjson: json,\n\t\t\tparams: params,\n\t\t\tget: get,\n\t\t\tput: put,\n\t\t\t_patch: _patch,\n\t\t\tpost: post,\n\t\t\t_delete: _delete\n\t\t};\n\t}\n\n\tfunction yawp(baseArg) {\n\t\tfunction normalize(arg) {\n\t\t\tif (!arg) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tif (arg instanceof Object) {\n\t\t\t\treturn extractId(arg);\n\t\t\t}\n\t\t\treturn arg;\n\t\t}\n\n\t\tvar ajaxOptions = {\n\t\t\turl: normalize(baseArg),\n\t\t\tasync: true\n\t\t};\n\n\t\tfunction options() {\n\t\t\treturn ajaxOptions;\n\t\t}\n\n\t\toptions.setJson = function (object) {\n\t\t\tajaxOptions.data = JSON.stringify(object);\n\t\t};\n\n\t\toptions.addQueryParameters = function (params) {\n\t\t\tajaxOptions.query = extend(ajaxOptions.query, params);\n\t\t};\n\n\t\toptions.addQueryParameter = function (key, value) {\n\t\t\tif (!ajaxOptions.query) {\n\t\t\t\tajaxOptions.query = {};\n\t\t\t}\n\t\t\tajaxOptions.query[key] = value;\n\t\t};\n\n\t\tfunction from(parentBaseArg) {\n\t\t\tvar parentBase = normalize(parentBaseArg);\n\t\t\toptions().url = parentBase + options().url;\n\t\t\treturn this;\n\t\t}\n\n\t\tfunction transform(t) {\n\t\t\toptions.addQueryParameter('t', t);\n\t\t\treturn this;\n\t\t}\n\n\t\tfunction sync() {\n\t\t\tajaxOptions.async = false;\n\t\t\treturn this;\n\t\t}\n\n\t\treturn extend({\n\t\t\tfrom: from,\n\t\t\ttransform: transform,\n\t\t\tsync: sync\n\t\t}, query(options), repository(options), actions(options));\n\t}\n\n\tfunction update(object) {\n\t\tvar id = extractId(object);\n\t\treturn yawp(id).update(object);\n\t}\n\n\tfunction patch(object) {\n\t\tvar id = extractId(object);\n\t\treturn yawp(id).patch(object);\n\t}\n\n\tfunction destroy(object) {\n\t\tvar id = extractId(object);\n\t\treturn yawp(id).destroy(object);\n\t}\n\n\tvar api = {\n\t\tconfig: config,\n\t\tupdate: update,\n\t\tpatch: patch,\n\t\tdestroy: destroy\n\t};\n\n\treturn extend(yawp, api);\n\t\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./yawp.js\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}