{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///yawp.fixtures.min.js","webpack:///webpack/bootstrap e0b41b90d6649072d796","webpack:///./src/web/index.fixtures.js","webpack:///./src/web/request.js","webpack:///./src/commons/utils.js","webpack:///./src/commons/fixtures.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_request","_request2","fx","request","window","yawp","fixtures","resolveOrReject","options","resolve","reject","readyState","status","json","JSON","parse","responseText","setCrossDomain","credentials","withCredentials","setHeaders","headers","_utils","extend","Accept","Content-Type","key","hasOwnProperty","setRequestHeader","url","Promise","query","XMLHttpRequest","onreadystatechange","open","method","toUrlParam","send","body","result","arguments","i","l","length","attrname","jsonParams","keys","map","k","encodeURIComponent","join","_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","constructor","prototype","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","DEFAULT_BASE_URL","DEFAULT_RESET_URL","DEFAULT_LAZY_PROPERTIES","DEFAULT_FETCH_OPTIONS","Fixtures","_baseUrl","_resetUrl","_lazyProperties","_defaultFetchOptions","promise","lazy","callback","properties","all","_this","then","clear","name","path","bindFixture","bindLazy","push","Fixture","api","Lazy","promiseFn","createApi","_this2","data","chain","load","self","createStubs","createLoadPromiseFn","_this3","getLazyDataFor","isLoaded","prepare","object","stringify","response","getData","_this4","lazyProperties","inspectLazyProperties","resolveLazyProperties","_this5","_loop","Function","actualValue","v","_ret","hasStubs","reduce","property","__stub__","_this6","createLazyStubs","_this7","getFixtureRef"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,OAAA,mBAAAH,GACA,gBAAAC,SACAA,QAAA,iBAAAD,IAEAD,EAAA,iBAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAP,WACAS,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,QAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAAUL,EAAQD,EAASM,GAEhC,YAUA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFG,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GE3DZ,IAAAC,GAAAhB,EAAA,GFgEKiB,EAAYR,EAAuBO,GE9DpCE,EAAKlB,EAAQ,GAAyBmB,UAEtC,SAAUC,UACVA,OAAOC,KAAKC,SAAWJ,GFqE1BxB,EAAQkB,QElEMM,EFmEdvB,EAAOD,QAAUA,EAAiB,SAI7B,SAAUC,EAAQD,EAASM,GAEhC,YG7DD,SAASuB,GAAgBJ,EAASK,EAASC,EAASC,GACrB,IAAvBP,EAAQQ,aACe,MAAnBR,EAAQS,OACRH,EAAQD,EAAQK,KAAOC,KAAKC,MAAMZ,EAAQa,cAAgBb,EAAQa,cAElEN,EAAOP,IAKnB,QAASc,GAAed,EAASe,GACxBA,GAA+B,SAAhBA,IAGpBf,EAAQgB,iBAAkB,GAG9B,QAASC,GAAWjB,EAASkB,GACzBA,EAAUA,OACV,EAAAC,EAAAC,QAAOF,GACHG,OAAU,mBACVC,eAAgB,kCAEpB,KAAK,GAAIC,KAAOL,GACRA,EAAQM,eAAeD,IACvBvB,EAAQyB,iBAAiBF,EAAKL,EAAQK,IHsCjD7B,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,IAGXrB,EAAQkB,QGrFM,SAAUiC,EAAKrB,GAC1B,MAAO,IAAIsB,SAAQ,SAACrB,EAASC,GACzB,GAAIqB,GAAQvB,EAAQuB,YACbvB,GAAQuB,KAEf,IAAI5B,GAAU,GAAI6B,eAElB7B,GAAQ8B,mBAAqB,WACzB1B,EAAgBJ,EAASK,EAASC,EAASC,IAG/CP,EAAQ+B,KAAK1B,EAAQ2B,OAAQN,GAAOE,EAAQ,KAAM,EAAAT,EAAAc,YAAWL,GAAS,KACtEX,EAAWjB,EAASK,EAAQa,SAC5BJ,EAAed,EAASK,EAAQU,aAChCf,EAAQkC,KAAK7B,EAAQ8B,QAhB7B,IAAAhB,GAAAtC,EAAA,EHwICL,GAAOD,QAAUA,EAAiB,SAI7B,SAAUC,EAAQD,GAEvB,YI9IM,SAAS6C,KAGZ,IAAK,GAFDgB,GAASC,UAAU,OAEdC,EAAI,EAAGC,EAAIF,UAAUG,OAAQF,EAAIC,EAAGD,IAAK,CAC9C,GAAI/C,GAAM8C,UAAUC,EACpB,KAAK,GAAIG,KAAYlD,GACjB6C,EAAOK,GAAYlD,EAAIkD,GAI/B,MAAOL,GAGJ,QAASH,GAAWS,GACvB,MAAOhD,QAAOiD,KAAKD,GAAYE,IAAI,SAAUC,GACzC,MAAOC,oBAAmBD,GAAK,IAAMC,mBAAmBJ,EAAWG,MACpEE,KAAK,KJgIXrD,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,IAEXrB,EInJe6C,SJoJf7C,EIvIe0D,cJ6JV,SAAUzD,EAAQD,EAASM,GAEhC,YAYA,SAASmE,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAVhHzD,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAIwD,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAU/D,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAX8D,SAAyB9D,EAAIgE,cAAgBF,QAAU9D,IAAQ8D,OAAOG,UAAY,eAAkBjE,IAElQkE,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAItB,GAAI,EAAGA,EAAIsB,EAAMpB,OAAQF,IAAK,CAAE,GAAIuB,GAAaD,EAAMtB,EAAIuB,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMtE,OAAOC,eAAegE,EAAQE,EAAWtC,IAAKsC,IAAiB,MAAO,UAAUX,EAAae,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBR,EAAYM,UAAWS,GAAiBC,GAAaR,EAAiBR,EAAagB,GAAqBhB,MKpLjiB/B,EAAAtC,EAAA,GAEMsF,EAAmB,YACnBC,EAAoB,iCACpBC,GAA2B,MAC3BC,IL0LL/F,GAAQkB,QKxLM,SAACO,GAAY,GAElBuE,GAFkB,WAGpB,QAAAA,KAAcvB,EAAArE,KAAA4F,GACV5F,KAAK6F,SAAWL,EAChBxF,KAAK8F,UAAYL,EACjBzF,KAAK+F,gBAAkBL,EACvB1F,KAAKgG,qBAAuBL,EAC5B3F,KAAKiG,QAAU,KACfjG,KAAKwB,YACLxB,KAAKkG,QAVW,MAAApB,GAAAc,IAAAhD,IAAA,SAAA3B,MAAA,SAabkF,GACHA,EAASnG,SAdO4C,IAAA,UAAA3B,MAAA,SAiBZ8B,GACJ/C,KAAK6F,SAAW9C,KAlBAH,IAAA,WAAA3B,MAAA,SAqBX8B,GACL/C,KAAK8F,UAAY/C,KAtBDH,IAAA,iBAAA3B,MAAA,SAyBLmF,GACXpG,KAAK+F,gBAAkBK,KA1BPxD,IAAA,sBAAA3B,MAAA,SA6BAS,IAChB,EAAAc,EAAAC,QAAOzC,KAAKgG,qBAAsBtE,MA9BlBkB,IAAA,QAAA3B,MAAA,SAiCdoF,GAAK,GAAAC,GAAAtG,IACP,OAAOqB,GAAQrB,KAAK8F,WAChBzC,OAAQ,QACTkD,KAAK,WACJD,EAAKE,MAAMH,QArCCzD,IAAA,QAAA3B,MAAA,SAyCdoF,GACFrG,KAAKiG,QAAU,IACf,KAAK,GAAItC,GAAI,EAAGC,EAAI5D,KAAKwB,SAASqC,OAAQF,EAAIC,EAAGD,IAAK,CAClD,GAAI8C,GAAOzG,KAAKwB,SAASmC,GAAG8C,KACxBC,EAAO1G,KAAKwB,SAASmC,GAAG+C,IAC5B1G,MAAK2G,YAAYF,EAAMC,GACvBL,GAAOrG,KAAK4G,SAASH,EAAMC,OA/Cf9D,IAAA,OAAA3B,MAAA,SAmDfwF,EAAMC,GACP1G,KAAKwB,SAASqF,MAAMJ,OAAMC,SAC1B1G,KAAK2G,YAAYF,EAAMC,GACvB1G,KAAK4G,SAASH,MAtDE7D,IAAA,cAAA3B,MAAA,SAyDRwF,EAAMC,GACd1G,KAAKyG,GAAQ,GAAIK,GAAQ9G,KAAMyG,EAAMC,GAAMK,OA1D3BnE,IAAA,WAAA3B,MAAA,SA6DXwF,GACLzG,KAAKkG,KAAKO,GAAQ,GAAIO,GAAKhH,KAAMyG,GAAMM,OA9DvBnE,IAAA,QAAA3B,MAAA,SAiEdgG,GAMF,MALKjH,MAAKiG,QAGNjG,KAAKiG,QAAUjG,KAAKiG,QAAQM,KAAKU,GAFjCjH,KAAKiG,QAAUgB,IAIZjH,KAAKiG,WAvEIrD,IAAA,OAAA3B,MAAA,SA0EfkF,GACD,MAAKnG,MAAKiG,QAGHjG,KAAKiG,QAAQM,KAAK,iBAAMJ,IAAYA,MAFhC,GAAInD,SAAQ,iBAAMmD,IAAYA,UA5EzBP,KAkFlBkB,EAlFkB,WAmFpB,QAAAA,GAAY1F,EAAIqF,EAAMC,GAAMrC,EAAArE,KAAA8G,GACxB9G,KAAKoB,GAAKA,EACVpB,KAAKyG,KAAOA,EACZzG,KAAK0G,KAAOA,EACZ1G,KAAK+G,IAAM/G,KAAKkH,YAvFA,MAAApC,GAAAgC,IAAAlE,IAAA,YAAA3B,MAAA,WA0FR,GAAAkG,GAAAnH,KACJ+G,EAAM,SAACnE,EAAKwE,GACZ,MAAOD,GAAK/F,GAAGiG,MAAMF,EAAKG,KAAK1E,EAAKwE,IAGxC,OADAL,GAAIQ,KAAOvH,KACJ+G,KA/FSnE,IAAA,MAAA3B,MAAA,WAmGhB,MAAOjB,MAAKoB,GAAGyE,SAAW7F,KAAK0G,QAnGf9D,IAAA,OAAA3B,MAAA,SAsGf2B,EAAKwE,GAEN,MADApH,MAAKwH,YAAY5E,GACV5C,KAAKyH,oBAAoB7E,EAAKwE,MAxGrBxE,IAAA,sBAAA3B,MAAA,SA2GA2B,EAAKwE,GAAM,GAAAM,GAAA1H,IAK3B,OAJKoH,KACDA,EAAOpH,KAAK2H,eAAe/E,IAGxB,WACH,MAAI8E,GAAKE,SAAShF,GACP8E,EAAKX,IAAInE,GAGb8E,EAAKG,QAAQT,GAAMb,KAAK,SAACuB,GAC5B,GAAMpG,IACF2B,OAAQ,OACRtB,MAAM,EACNyB,KAAMxB,KAAK+F,UAAUD,GAKzB,QAFA,EAAAtF,EAAAC,QAAOf,EAASgG,EAAKtG,GAAG4E,sBAEjB3E,EAAQqG,EAAK3E,MAAOrB,GAAS6E,KAAK,SAACyB,GAEtC,MADAN,GAAKX,IAAInE,GAAOoF,EACTA,UAhIHpF,IAAA,iBAAA3B,MAAA,SAuIL2B,GACX,GAAIsD,GAAOlG,KAAKoB,GAAG8E,KAAKlG,KAAKyG,MAAMc,IACnC,OAAOrB,GAAK+B,QAAQrF,MAzIJA,IAAA,UAAA3B,MAAA,SA4IZmG,GAAM,GAAAc,GAAAlI,IACV,OAAO,IAAIgD,SAAQ,SAACrB,GAChB,GAAImG,OACJ,EAAAtF,EAAAC,QAAOqF,EAAQV,EAEf,IAAIe,KACJD,GAAKE,sBAAsBN,EAAQK,GACnCD,EAAKG,sBAAsBP,EAAQK,EAAgBxG,QAnJvCiB,IAAA,wBAAA3B,MAAA,SAuJE6G,EAAQK,EAAgBxG,GAC1C,GAAKwG,EAAetE,OAEb,CAEH,IAAK,GADDoC,GAAUkC,EAAe,KACpBxE,EAAI,EAAGC,EAAIuE,EAAetE,OAAQF,EAAIC,EAAGD,IAC9CsC,EAAUA,EAAQM,KAAK4B,EAAexE,GAG1CsC,GAAQM,KAAK,WACT5E,EAAQmG,SARZnG,GAAQmG,MAzJIlF,IAAA,wBAAA3B,MAAA,SAsKE6G,EAAQK,GAAgB,GAAAG,GAAAtI,KAAAuI,EAAA,SACjC3F,GACL,IAAKkF,EAAOjF,eAAeD,GACvB,gBAGJ,IAAI3B,GAAQ6G,EAAOlF,EACnB,OAAI3B,aAAiBuH,WACjBL,EAAetB,KAAK,WAChB,MAAO5F,KAAQsF,KAAK,SAACkC,GACjBX,EAAOlF,GAAO6F,MAGtB,YAEAxH,YAAiBF,SACjBuH,EAAKF,sBAAsBnH,EAAOkH,IAClCO,EAAA,SAFJ,OAdJ,KAAK,GAAI9F,KAAOkF,GAAQ,IAAAa,GAAAJ,EAAf3F,EAAe,QAAA+F,GAAA,eAYhB,QAZgB,2CAAAA,GAAA,YAAAlE,EAAAkE,IAAA,MAAAA,GAAAD,OAvKR9F,IAAA,cAAA3B,MAAA,SA4LR2B,GACR,IAAI5C,KAAK4I,SAAShG,GAAlB,CAGA,GAAI2E,GAAOvH,IACXA,MAAK+G,IAAInE,GAAO5C,KAAKoB,GAAG2E,gBAAgB8C,OAAO,SAAC5E,EAAK6E,GAIjD,MAHA7E,GAAI6E,GAAY,WACZ,MAAO,IAAI9F,SAAQ,SAACrB,GAAD,MAAaA,GAAQ4F,EAAKR,IAAInE,GAAKkG,OAEnD7E,OAEXjE,KAAK+G,IAAInE,GAAKmG,UAAW,MAvMTnG,IAAA,WAAA3B,MAAA,SA0MX2B,GACL,MAAO5C,MAAK+G,IAAInE,KAAS5C,KAAK4I,SAAShG,MA3MvBA,IAAA,WAAA3B,MAAA,SA8MX2B,GACL,MAAO5C,MAAK+G,IAAInE,IAAQ5C,KAAK+G,IAAInE,GAAKmG,aA/MtBjC,KAmNlBE,EAnNkB,WAoNpB,QAAAA,GAAY5F,EAAIqF,GAAMpC,EAAArE,KAAAgH,GAClBhH,KAAKoB,GAAKA,EACVpB,KAAKyG,KAAOA,EACZzG,KAAKoH,QACLpH,KAAK+G,IAAM/G,KAAKkH,YAxNA,MAAApC,GAAAkC,IAAApE,IAAA,YAAA3B,MAAA,WA2NR,GAAA+H,GAAAhJ,KACJ+G,EAAM,SAACnE,EAAKwE,GACZ4B,EAAKC,gBAAgBrG,GACrBoG,EAAK5B,KAAKxE,GAAOwE,EAGrB,OADAL,GAAIQ,KAAOvH,KACJ+G,KAjOSnE,IAAA,UAAA3B,MAAA,SAoOZ2B,GACJ,MAAO5C,MAAKoH,KAAKxE,MArODA,IAAA,kBAAA3B,MAAA,SAwOJ2B,GAAK,GAAAsG,GAAAlJ,IACbA,MAAK4I,SAAShG,KAGlB5C,KAAK+G,IAAInE,GAAO5C,KAAKoB,GAAG2E,gBAAgB8C,OAAO,SAAC5E,EAAK6E,GAIjD,MAHA7E,GAAI6E,GAAY,WACZ,MAAOI,GAAKC,gBAAgB7B,KAAK1E,KAAO2D,KAAK,SAACuB,GAAD,MAAYA,GAAOgB,MAE7D7E,OAEXjE,KAAK+G,IAAInE,GAAKmG,UAAW,MAlPTnG,IAAA,WAAA3B,MAAA,SAqPX2B,GACL,MAAO5C,MAAK+G,IAAInE,IAAQ5C,KAAK+G,IAAInE,GAAKmG,YAtPtBnG,IAAA,gBAAA3B,MAAA,WA0PhB,MAAOjB,MAAKoB,GAAGpB,KAAKyG,MAAMc,SA1PVP,IA8PxB,OAAO,IAAIpB,IL2Qd/F,EAAOD,QAAUA,EAAiB","file":"yawp.fixtures.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"yawp.fixtures\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yawp.fixtures\"] = factory();\n\telse\n\t\troot[\"yawp.fixtures\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"yawp.fixtures\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yawp.fixtures\"] = factory();\n\telse\n\t\troot[\"yawp.fixtures\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _request = __webpack_require__(1);\n\t\n\tvar _request2 = _interopRequireDefault(_request);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar fx = __webpack_require__(3)(_request2.default);\n\t\n\tif ('yawp' in window) {\n\t    window.yawp.fixtures = fx;\n\t}\n\t\n\texports.default = fx;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function (url, options) {\n\t    return new Promise(function (resolve, reject) {\n\t        var query = options.query;\n\t        delete options.query;\n\t\n\t        var request = new XMLHttpRequest();\n\t\n\t        request.onreadystatechange = function () {\n\t            resolveOrReject(request, options, resolve, reject);\n\t        };\n\t\n\t        request.open(options.method, url + (query ? '?' + (0, _utils.toUrlParam)(query) : ''));\n\t        setHeaders(request, options.headers);\n\t        setCrossDomain(request, options.credentials);\n\t        request.send(options.body);\n\t    });\n\t};\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction resolveOrReject(request, options, resolve, reject) {\n\t    if (request.readyState === 4) {\n\t        if (request.status === 200) {\n\t            resolve(options.json ? JSON.parse(request.responseText) : request.responseText);\n\t        } else {\n\t            reject(request);\n\t        }\n\t    }\n\t}\n\t\n\tfunction setCrossDomain(request, credentials) {\n\t    if (!credentials || credentials === \"omit\") {\n\t        return;\n\t    }\n\t    request.withCredentials = true;\n\t}\n\t\n\tfunction setHeaders(request, headers) {\n\t    headers = headers || {};\n\t    (0, _utils.extend)(headers, {\n\t        'Accept': 'application/json',\n\t        'Content-Type': 'application/json;charset=UTF-8'\n\t    });\n\t    for (var key in headers) {\n\t        if (headers.hasOwnProperty(key)) {\n\t            request.setRequestHeader(key, headers[key]);\n\t        }\n\t    }\n\t}\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.extend = extend;\n\texports.toUrlParam = toUrlParam;\n\tfunction extend() {\n\t    var result = arguments[0] || {};\n\t\n\t    for (var i = 1, l = arguments.length; i < l; i++) {\n\t        var obj = arguments[i];\n\t        for (var attrname in obj) {\n\t            result[attrname] = obj[attrname];\n\t        }\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction toUrlParam(jsonParams) {\n\t    return Object.keys(jsonParams).map(function (k) {\n\t        return encodeURIComponent(k) + '=' + encodeURIComponent(jsonParams[k]);\n\t    }).join('&');\n\t}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DEFAULT_BASE_URL = '/fixtures';\n\tvar DEFAULT_RESET_URL = '/_ah/yawp/datastore/delete-all';\n\tvar DEFAULT_LAZY_PROPERTIES = ['id']; // needed till harmony proxies\n\tvar DEFAULT_FETCH_OPTIONS = {};\n\t\n\texports.default = function (request) {\n\t    var Fixtures = function () {\n\t        function Fixtures() {\n\t            _classCallCheck(this, Fixtures);\n\t\n\t            this._baseUrl = DEFAULT_BASE_URL;\n\t            this._resetUrl = DEFAULT_RESET_URL;\n\t            this._lazyProperties = DEFAULT_LAZY_PROPERTIES;\n\t            this._defaultFetchOptions = DEFAULT_FETCH_OPTIONS;\n\t            this.promise = null;\n\t            this.fixtures = [];\n\t            this.lazy = {};\n\t        }\n\t\n\t        _createClass(Fixtures, [{\n\t            key: 'config',\n\t            value: function config(callback) {\n\t                callback(this);\n\t            }\n\t        }, {\n\t            key: 'baseUrl',\n\t            value: function baseUrl(url) {\n\t                this._baseUrl = url;\n\t            }\n\t        }, {\n\t            key: 'resetUrl',\n\t            value: function resetUrl(url) {\n\t                this._resetUrl = url;\n\t            }\n\t        }, {\n\t            key: 'lazyProperties',\n\t            value: function lazyProperties(properties) {\n\t                this._lazyProperties = properties;\n\t            }\n\t        }, {\n\t            key: 'defaultFetchOptions',\n\t            value: function defaultFetchOptions(options) {\n\t                (0, _utils.extend)(this._defaultFetchOptions, options);\n\t            }\n\t        }, {\n\t            key: 'reset',\n\t            value: function reset(all) {\n\t                var _this = this;\n\t\n\t                return request(this._resetUrl, {\n\t                    method: 'GET'\n\t                }).then(function () {\n\t                    _this.clear(all);\n\t                });\n\t            }\n\t        }, {\n\t            key: 'clear',\n\t            value: function clear(all) {\n\t                this.promise = null;\n\t                for (var i = 0, l = this.fixtures.length; i < l; i++) {\n\t                    var name = this.fixtures[i].name;\n\t                    var path = this.fixtures[i].path;\n\t                    this.bindFixture(name, path);\n\t                    all && this.bindLazy(name, path);\n\t                }\n\t            }\n\t        }, {\n\t            key: 'bind',\n\t            value: function bind(name, path) {\n\t                this.fixtures.push({ name: name, path: path });\n\t                this.bindFixture(name, path);\n\t                this.bindLazy(name);\n\t            }\n\t        }, {\n\t            key: 'bindFixture',\n\t            value: function bindFixture(name, path) {\n\t                this[name] = new Fixture(this, name, path).api;\n\t            }\n\t        }, {\n\t            key: 'bindLazy',\n\t            value: function bindLazy(name) {\n\t                this.lazy[name] = new Lazy(this, name).api;\n\t            }\n\t        }, {\n\t            key: 'chain',\n\t            value: function chain(promiseFn) {\n\t                if (!this.promise) {\n\t                    this.promise = promiseFn();\n\t                } else {\n\t                    this.promise = this.promise.then(promiseFn);\n\t                }\n\t                return this.promise;\n\t            }\n\t        }, {\n\t            key: 'load',\n\t            value: function load(callback) {\n\t                if (!this.promise) {\n\t                    return new Promise(function () {\n\t                        return callback && callback();\n\t                    });\n\t                }\n\t                return this.promise.then(function () {\n\t                    return callback && callback();\n\t                });\n\t            }\n\t        }]);\n\t\n\t        return Fixtures;\n\t    }();\n\t\n\t    var Fixture = function () {\n\t        function Fixture(fx, name, path) {\n\t            _classCallCheck(this, Fixture);\n\t\n\t            this.fx = fx;\n\t            this.name = name;\n\t            this.path = path;\n\t            this.api = this.createApi();\n\t        }\n\t\n\t        _createClass(Fixture, [{\n\t            key: 'createApi',\n\t            value: function createApi() {\n\t                var _this2 = this;\n\t\n\t                var api = function api(key, data) {\n\t                    return _this2.fx.chain(_this2.load(key, data));\n\t                };\n\t                api.self = this;\n\t                return api;\n\t            }\n\t        }, {\n\t            key: 'url',\n\t            value: function url() {\n\t                return this.fx._baseUrl + this.path;\n\t            }\n\t        }, {\n\t            key: 'load',\n\t            value: function load(key, data) {\n\t                this.createStubs(key);\n\t                return this.createLoadPromiseFn(key, data);\n\t            }\n\t        }, {\n\t            key: 'createLoadPromiseFn',\n\t            value: function createLoadPromiseFn(key, data) {\n\t                var _this3 = this;\n\t\n\t                if (!data) {\n\t                    data = this.getLazyDataFor(key);\n\t                }\n\t\n\t                return function () {\n\t                    if (_this3.isLoaded(key)) {\n\t                        return _this3.api[key];\n\t                    }\n\t\n\t                    return _this3.prepare(data).then(function (object) {\n\t                        var options = {\n\t                            method: 'POST',\n\t                            json: true,\n\t                            body: JSON.stringify(object)\n\t                        };\n\t\n\t                        (0, _utils.extend)(options, _this3.fx._defaultFetchOptions);\n\t\n\t                        return request(_this3.url(), options).then(function (response) {\n\t                            _this3.api[key] = response;\n\t                            return response;\n\t                        });\n\t                    });\n\t                };\n\t            }\n\t        }, {\n\t            key: 'getLazyDataFor',\n\t            value: function getLazyDataFor(key) {\n\t                var lazy = this.fx.lazy[this.name].self;\n\t                return lazy.getData(key);\n\t            }\n\t        }, {\n\t            key: 'prepare',\n\t            value: function prepare(data) {\n\t                var _this4 = this;\n\t\n\t                return new Promise(function (resolve) {\n\t                    var object = {};\n\t                    (0, _utils.extend)(object, data);\n\t\n\t                    var lazyProperties = [];\n\t                    _this4.inspectLazyProperties(object, lazyProperties);\n\t                    _this4.resolveLazyProperties(object, lazyProperties, resolve);\n\t                });\n\t            }\n\t        }, {\n\t            key: 'resolveLazyProperties',\n\t            value: function resolveLazyProperties(object, lazyProperties, resolve) {\n\t                if (!lazyProperties.length) {\n\t                    resolve(object);\n\t                } else {\n\t                    var promise = lazyProperties[0]();\n\t                    for (var i = 1, l = lazyProperties.length; i < l; i++) {\n\t                        promise = promise.then(lazyProperties[i]);\n\t                    }\n\t\n\t                    promise.then(function () {\n\t                        resolve(object);\n\t                    });\n\t                }\n\t            }\n\t        }, {\n\t            key: 'inspectLazyProperties',\n\t            value: function inspectLazyProperties(object, lazyProperties) {\n\t                var _this5 = this;\n\t\n\t                var _loop = function _loop(key) {\n\t                    if (!object.hasOwnProperty(key)) {\n\t                        return 'continue';\n\t                    }\n\t\n\t                    var value = object[key];\n\t                    if (value instanceof Function) {\n\t                        lazyProperties.push(function () {\n\t                            return value().then(function (actualValue) {\n\t                                object[key] = actualValue;\n\t                            });\n\t                        });\n\t                        return 'continue';\n\t                    }\n\t                    if (value instanceof Object) {\n\t                        _this5.inspectLazyProperties(value, lazyProperties);\n\t                        return {\n\t                            v: void 0\n\t                        };\n\t                    }\n\t                };\n\t\n\t                for (var key in object) {\n\t                    var _ret = _loop(key);\n\t\n\t                    switch (_ret) {\n\t                        case 'continue':\n\t                            continue;\n\t\n\t                        default:\n\t                            if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t                    }\n\t                }\n\t            }\n\t        }, {\n\t            key: 'createStubs',\n\t            value: function createStubs(key) {\n\t                if (this.hasStubs(key)) {\n\t                    return;\n\t                }\n\t                var self = this;\n\t                this.api[key] = this.fx._lazyProperties.reduce(function (map, property) {\n\t                    map[property] = function () {\n\t                        return new Promise(function (resolve) {\n\t                            return resolve(self.api[key][property]);\n\t                        });\n\t                    };\n\t                    return map;\n\t                }, {});\n\t                this.api[key].__stub__ = true;\n\t            }\n\t        }, {\n\t            key: 'isLoaded',\n\t            value: function isLoaded(key) {\n\t                return this.api[key] && !this.hasStubs(key);\n\t            }\n\t        }, {\n\t            key: 'hasStubs',\n\t            value: function hasStubs(key) {\n\t                return this.api[key] && this.api[key].__stub__;\n\t            }\n\t        }]);\n\t\n\t        return Fixture;\n\t    }();\n\t\n\t    var Lazy = function () {\n\t        function Lazy(fx, name) {\n\t            _classCallCheck(this, Lazy);\n\t\n\t            this.fx = fx;\n\t            this.name = name;\n\t            this.data = {};\n\t            this.api = this.createApi();\n\t        }\n\t\n\t        _createClass(Lazy, [{\n\t            key: 'createApi',\n\t            value: function createApi() {\n\t                var _this6 = this;\n\t\n\t                var api = function api(key, data) {\n\t                    _this6.createLazyStubs(key);\n\t                    _this6.data[key] = data;\n\t                };\n\t                api.self = this;\n\t                return api;\n\t            }\n\t        }, {\n\t            key: 'getData',\n\t            value: function getData(key) {\n\t                return this.data[key];\n\t            }\n\t        }, {\n\t            key: 'createLazyStubs',\n\t            value: function createLazyStubs(key) {\n\t                var _this7 = this;\n\t\n\t                if (this.hasStubs(key)) {\n\t                    return;\n\t                }\n\t                this.api[key] = this.fx._lazyProperties.reduce(function (map, property) {\n\t                    map[property] = function () {\n\t                        return _this7.getFixtureRef().load(key)().then(function (object) {\n\t                            return object[property];\n\t                        });\n\t                    };\n\t                    return map;\n\t                }, {});\n\t                this.api[key].__stub__ = true;\n\t            }\n\t        }, {\n\t            key: 'hasStubs',\n\t            value: function hasStubs(key) {\n\t                return this.api[key] && this.api[key].__stub__;\n\t            }\n\t        }, {\n\t            key: 'getFixtureRef',\n\t            value: function getFixtureRef() {\n\t                return this.fx[this.name].self;\n\t            }\n\t        }]);\n\t\n\t        return Lazy;\n\t    }();\n\t\n\t    return new Fixtures();\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// yawp.fixtures.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e0b41b90d6649072d796","import request from './request';\n\nvar fx = require('./../commons/fixtures')(request);\n\nif ('yawp' in window) {\n    window.yawp.fixtures = fx;\n}\n\nexport default fx;\n\n\n\n// WEBPACK FOOTER //\n// ./src/web/index.fixtures.js","import { extend, toUrlParam } from '../commons/utils';\n\nexport default function (url, options) {\n    return new Promise((resolve, reject) => {\n        var query = options.query;\n        delete options.query;\n\n        var request = new XMLHttpRequest();\n\n        request.onreadystatechange = function () {\n            resolveOrReject(request, options, resolve, reject);\n        };\n\n        request.open(options.method, url + (query ? '?' + toUrlParam(query) : ''));\n        setHeaders(request, options.headers);\n        setCrossDomain(request, options.credentials);\n        request.send(options.body);\n    });\n}\n\nfunction resolveOrReject(request, options, resolve, reject) {\n    if (request.readyState === 4) {\n        if (request.status === 200) {\n            resolve(options.json ? JSON.parse(request.responseText) : request.responseText);\n        } else {\n            reject(request);\n        }\n    }\n}\n\nfunction setCrossDomain(request, credentials) {\n    if (!credentials || credentials === \"omit\") {\n        return;\n    }\n    request.withCredentials = true;\n}\n\nfunction setHeaders(request, headers) {\n    headers = headers || {};\n    extend(headers, {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json;charset=UTF-8',\n    });\n    for (var key in headers) {\n        if (headers.hasOwnProperty(key)) {\n            request.setRequestHeader(key, headers[key]);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/web/request.js","export function extend() {\n    var result = arguments[0] || {};\n\n    for (var i = 1, l = arguments.length; i < l; i++) {\n        var obj = arguments[i];\n        for (var attrname in obj) {\n            result[attrname] = obj[attrname];\n        }\n    }\n\n    return result;\n}\n\nexport function toUrlParam(jsonParams) {\n    return Object.keys(jsonParams).map(function (k) {\n        return encodeURIComponent(k) + '=' + encodeURIComponent(jsonParams[k]);\n    }).join('&');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/commons/utils.js","import {extend} from './utils';\n\nconst DEFAULT_BASE_URL = '/fixtures';\nconst DEFAULT_RESET_URL = '/_ah/yawp/datastore/delete-all';\nconst DEFAULT_LAZY_PROPERTIES = ['id']; // needed till harmony proxies\nconst DEFAULT_FETCH_OPTIONS = {};\n\nexport default (request) => {\n\n    class Fixtures {\n        constructor() {\n            this._baseUrl = DEFAULT_BASE_URL;\n            this._resetUrl = DEFAULT_RESET_URL;\n            this._lazyProperties = DEFAULT_LAZY_PROPERTIES;\n            this._defaultFetchOptions = DEFAULT_FETCH_OPTIONS;\n            this.promise = null;\n            this.fixtures = [];\n            this.lazy = {};\n        }\n\n        config(callback) {\n            callback(this);\n        }\n\n        baseUrl(url) {\n            this._baseUrl = url;\n        }\n\n        resetUrl(url) {\n            this._resetUrl = url;\n        }\n\n        lazyProperties(properties) {\n            this._lazyProperties = properties;\n        }\n\n        defaultFetchOptions(options) {\n            extend(this._defaultFetchOptions, options);\n        }\n\n        reset(all) {\n            return request(this._resetUrl, {\n                method: 'GET'\n            }).then(() => {\n                this.clear(all);\n            });\n        }\n\n        clear(all) {\n            this.promise = null;\n            for (let i = 0, l = this.fixtures.length; i < l; i++) {\n                var name = this.fixtures[i].name;\n                var path = this.fixtures[i].path;\n                this.bindFixture(name, path);\n                all && this.bindLazy(name, path);\n            }\n        }\n\n        bind(name, path) {\n            this.fixtures.push({name, path});\n            this.bindFixture(name, path);\n            this.bindLazy(name);\n        }\n\n        bindFixture(name, path) {\n            this[name] = new Fixture(this, name, path).api;\n        }\n\n        bindLazy(name) {\n            this.lazy[name] = new Lazy(this, name).api;\n        }\n\n        chain(promiseFn) {\n            if (!this.promise) {\n                this.promise = promiseFn();\n            } else {\n                this.promise = this.promise.then(promiseFn);\n            }\n            return this.promise;\n        }\n\n        load(callback) {\n            if (!this.promise) {\n                return new Promise(() => callback && callback());\n            }\n            return this.promise.then(() => callback && callback());\n        }\n    }\n\n    class Fixture {\n        constructor(fx, name, path) {\n            this.fx = fx;\n            this.name = name;\n            this.path = path;\n            this.api = this.createApi();\n        }\n\n        createApi() {\n            var api = (key, data) => {\n                return this.fx.chain(this.load(key, data));\n            };\n            api.self = this;\n            return api;\n        }\n\n        url() {\n            return this.fx._baseUrl + this.path;\n        }\n\n        load(key, data) {\n            this.createStubs(key);\n            return this.createLoadPromiseFn(key, data);\n        }\n\n        createLoadPromiseFn(key, data) {\n            if (!data) {\n                data = this.getLazyDataFor(key);\n            }\n\n            return () => {\n                if (this.isLoaded(key)) {\n                    return this.api[key];\n                }\n\n                return this.prepare(data).then((object) => {\n                    const options = {\n                        method: 'POST',\n                        json: true,\n                        body: JSON.stringify(object)\n                    };\n\n                    extend(options, this.fx._defaultFetchOptions);\n\n                    return request(this.url(), options).then((response) => {\n                        this.api[key] = response;\n                        return response;\n\n                    });\n                });\n            };\n        }\n\n        getLazyDataFor(key) {\n            var lazy = this.fx.lazy[this.name].self;\n            return lazy.getData(key);\n        }\n\n        prepare(data) {\n            return new Promise((resolve) => {\n                let object = {};\n                extend(object, data);\n\n                let lazyProperties = [];\n                this.inspectLazyProperties(object, lazyProperties);\n                this.resolveLazyProperties(object, lazyProperties, resolve);\n            });\n        }\n\n        resolveLazyProperties(object, lazyProperties, resolve) {\n            if (!lazyProperties.length) {\n                resolve(object);\n            } else {\n                var promise = lazyProperties[0]();\n                for (var i = 1, l = lazyProperties.length; i < l; i++) {\n                    promise = promise.then(lazyProperties[i]);\n                }\n\n                promise.then(() => {\n                    resolve(object);\n                });\n            }\n        }\n\n        inspectLazyProperties(object, lazyProperties) {\n            for (let key in object) {\n                if (!object.hasOwnProperty(key)) {\n                    continue;\n                }\n\n                let value = object[key];\n                if (value instanceof Function) {\n                    lazyProperties.push(() => {\n                        return value().then((actualValue) => {\n                            object[key] = actualValue;\n                        });\n                    });\n                    continue;\n                }\n                if (value instanceof Object) {\n                    this.inspectLazyProperties(value, lazyProperties);\n                    return;\n                }\n            }\n        }\n\n        createStubs(key) {\n            if (this.hasStubs(key)) {\n                return;\n            }\n            let self = this;\n            this.api[key] = this.fx._lazyProperties.reduce((map, property) => {\n                map[property] = () => {\n                    return new Promise((resolve) => resolve(self.api[key][property]));\n                };\n                return map;\n            }, {});\n            this.api[key].__stub__ = true;\n        }\n\n        isLoaded(key) {\n            return this.api[key] && !this.hasStubs(key);\n        }\n\n        hasStubs(key) {\n            return this.api[key] && this.api[key].__stub__;\n        }\n    }\n\n    class Lazy {\n        constructor(fx, name) {\n            this.fx = fx;\n            this.name = name;\n            this.data = {};\n            this.api = this.createApi();\n        }\n\n        createApi() {\n            let api = (key, data) => {\n                this.createLazyStubs(key);\n                this.data[key] = data;\n            };\n            api.self = this;\n            return api;\n        }\n\n        getData(key) {\n            return this.data[key];\n        }\n\n        createLazyStubs(key) {\n            if (this.hasStubs(key)) {\n                return;\n            }\n            this.api[key] = this.fx._lazyProperties.reduce((map, property) => {\n                map[property] = () => {\n                    return this.getFixtureRef().load(key)().then((object) => object[property]);\n                };\n                return map;\n            }, {});\n            this.api[key].__stub__ = true;\n        }\n\n        hasStubs(key) {\n            return this.api[key] && this.api[key].__stub__;\n        }\n\n        getFixtureRef() {\n            return this.fx[this.name].self;\n        }\n    }\n\n    return new Fixtures();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/commons/fixtures.js"],"sourceRoot":""}