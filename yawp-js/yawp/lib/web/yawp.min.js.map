{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///yawp.min.js","webpack:///webpack/bootstrap b0ec43a060b651294f9f","webpack:///./src/web/index.js","webpack:///./src/web/request.js","webpack:///./src/commons/utils.js","webpack:///./src/commons/yawp.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_request","_request2","yawp","request","resolveOrReject","options","resolve","reject","readyState","status","json","JSON","parse","responseText","setCrossDomain","credentials","withCredentials","setHeaders","headers","_utils","extend","Accept","Content-Type","key","hasOwnProperty","setRequestHeader","url","Promise","query","XMLHttpRequest","onreadystatechange","open","method","toUrlParam","send","body","result","arguments","i","l","length","attrname","jsonParams","keys","map","k","encodeURIComponent","join","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_classCallCheck","instance","Constructor","normalize","arg","extractId","hasId","object","_get","get","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","getter","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","baseUrl","defaultFetchOptions","before","then","_catch","yawpFn","baseArg","q","Yawp","cb","promise","createOrUpdate","_this","update","destroy","action","put","_patch","post","_delete","_options","clear","type","prepareRequestOptions","opt","req","catch","objects","_this2","wrapInstance","_this3","baseRequest","Array","wrapArray","parentBaseArg","parentBase","t","param","data","where","slice","order","sort","limit","wrappedRequest","stringify","setupQuery","list","params","verb","path","constructorFn","base","_super","sub","_this4","bindBaseMethods","apply","_base","super","getOwnPropertyNames","bind","customFetchOptions","fn","customFetchOptionsFn","config","patch","baseApi"],"mappings":"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","file":"yawp.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"yawp\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yawp\"] = factory();\n\telse\n\t\troot[\"yawp\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"yawp\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yawp\"] = factory();\n\telse\n\t\troot[\"yawp\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _request = __webpack_require__(1);\n\t\n\tvar _request2 = _interopRequireDefault(_request);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar yawp = __webpack_require__(3)(_request2.default);\n\t\n\texports.default = yawp;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function (url, options) {\n\t    return new Promise(function (resolve, reject) {\n\t        var query = options.query;\n\t        delete options.query;\n\t\n\t        var request = new XMLHttpRequest();\n\t\n\t        request.onreadystatechange = function () {\n\t            resolveOrReject(request, options, resolve, reject);\n\t        };\n\t\n\t        request.open(options.method, url + (query ? '?' + (0, _utils.toUrlParam)(query) : ''));\n\t        setHeaders(request, options.headers);\n\t        setCrossDomain(request, options.credentials);\n\t        request.send(options.body);\n\t    });\n\t};\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction resolveOrReject(request, options, resolve, reject) {\n\t    if (request.readyState === 4) {\n\t        if (request.status === 200) {\n\t            resolve(options.json ? JSON.parse(request.responseText) : request.responseText);\n\t        } else {\n\t            reject(request);\n\t        }\n\t    }\n\t}\n\t\n\tfunction setCrossDomain(request, credentials) {\n\t    if (!credentials || credentials === \"omit\") {\n\t        return;\n\t    }\n\t    request.withCredentials = true;\n\t}\n\t\n\tfunction setHeaders(request, headers) {\n\t    headers = headers || {};\n\t    (0, _utils.extend)(headers, {\n\t        'Accept': 'application/json',\n\t        'Content-Type': 'application/json;charset=UTF-8'\n\t    });\n\t    for (var key in headers) {\n\t        if (headers.hasOwnProperty(key)) {\n\t            request.setRequestHeader(key, headers[key]);\n\t        }\n\t    }\n\t}\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.extend = extend;\n\texports.toUrlParam = toUrlParam;\n\tfunction extend() {\n\t    var result = arguments[0] || {};\n\t\n\t    for (var i = 1, l = arguments.length; i < l; i++) {\n\t        var obj = arguments[i];\n\t        for (var attrname in obj) {\n\t            result[attrname] = obj[attrname];\n\t        }\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction toUrlParam(jsonParams) {\n\t    return Object.keys(jsonParams).map(function (k) {\n\t        return encodeURIComponent(k) + '=' + encodeURIComponent(jsonParams[k]);\n\t    }).join('&');\n\t}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar _baseUrl = '/api';\n\tvar _defaultFetchOptions = {};\n\tvar _before = undefined;\n\tvar _then = undefined;\n\tvar _catch2 = undefined;\n\t\n\tfunction normalize(arg) {\n\t    if (!arg) {\n\t        return '';\n\t    }\n\t    if (arg instanceof Object) {\n\t        return extractId(arg);\n\t    }\n\t    return arg;\n\t}\n\t\n\tfunction hasId(object) {\n\t    return object.id;\n\t}\n\t\n\tfunction extractId(object) {\n\t    if (hasId(object)) {\n\t        return object.id;\n\t    }\n\t    throw 'use yawp(id) if your endpoint does not have a @Id field called id';\n\t}\n\t\n\texports.default = function (request) {\n\t\n\t    function yawpFn(baseArg) {\n\t\n\t        var options = {};\n\t        var q = {};\n\t\n\t        var Yawp = function () {\n\t            function Yawp(props) {\n\t                _classCallCheck(this, Yawp);\n\t\n\t                if (props) {\n\t                    (0, _utils.extend)(this, props);\n\t                }\n\t            }\n\t\n\t            // request\n\t\n\t            _createClass(Yawp, [{\n\t                key: 'save',\n\t\n\t\n\t                // instance method\n\t\n\t                value: function save(cb) {\n\t                    var promise = this.createOrUpdate();\n\t                    return cb ? promise.then(cb) : promise;\n\t                }\n\t            }, {\n\t                key: 'createOrUpdate',\n\t                value: function createOrUpdate() {\n\t                    var _this = this;\n\t\n\t                    var promise = void 0;\n\t                    if (hasId(this)) {\n\t                        options.url = this.id;\n\t                        promise = this.constructor.update(this);\n\t                    } else {\n\t                        promise = this.constructor.create(this).then(function (object) {\n\t                            _this.id = object.id;\n\t                            return object;\n\t                        });\n\t                    }\n\t                    return promise;\n\t                }\n\t            }, {\n\t                key: 'destroy',\n\t                value: function destroy(cb) {\n\t                    var promise = this.constructor.destroy(this);\n\t                    return cb ? promise.then(cb) : promise;\n\t                }\n\t            }, {\n\t                key: 'get',\n\t                value: function get(action) {\n\t                    options.url = extractId(this);\n\t                    return this.constructor.get(action);\n\t                }\n\t            }, {\n\t                key: 'put',\n\t                value: function put(action) {\n\t                    options.url = extractId(this);\n\t                    return this.constructor.put(action);\n\t                }\n\t            }, {\n\t                key: '_patch',\n\t                value: function _patch(action) {\n\t                    options.url = extractId(this);\n\t                    return this.constructor._patch(action);\n\t                }\n\t            }, {\n\t                key: 'post',\n\t                value: function post(action) {\n\t                    options.url = extractId(this);\n\t                    return this.constructor.post(action);\n\t                }\n\t            }, {\n\t                key: '_delete',\n\t                value: function _delete(action) {\n\t                    options.url = extractId(this);\n\t                    return this.constructor._delete(action);\n\t                }\n\t            }], [{\n\t                key: 'clear',\n\t                value: function clear() {\n\t                    options = {\n\t                        url: normalize(baseArg)\n\t                    };\n\t                    q = {};\n\t                }\n\t            }, {\n\t                key: 'prepareRequestOptions',\n\t                value: function prepareRequestOptions() {\n\t                    var _options = (0, _utils.extend)({}, options);\n\t                    this.clear();\n\t                    return _options;\n\t                }\n\t            }, {\n\t                key: 'baseRequest',\n\t                value: function baseRequest(type) {\n\t                    var options = this.prepareRequestOptions();\n\t\n\t                    var url = _baseUrl + options.url;\n\t                    delete options.url;\n\t\n\t                    options.method = type;\n\t                    options.json = true;\n\t                    (0, _utils.extend)(options, _defaultFetchOptions);\n\t\n\t                    var p = Promise.resolve(_before ? _before(options) : options);\n\t\n\t                    return p.then(function (opt) {\n\t                        return opt || options;\n\t                    }).then(function (options) {\n\t                        var req = request(url, options);\n\t\n\t                        if (_then) {\n\t                            req = req.then(_then);\n\t                        }\n\t\n\t                        if (_catch2) {\n\t                            req = req.catch(_catch2);\n\t                        }\n\t\n\t                        return req;\n\t                    });\n\t                }\n\t            }, {\n\t                key: 'wrapInstance',\n\t                value: function wrapInstance(object) {\n\t                    return new this(object);\n\t                }\n\t            }, {\n\t                key: 'wrapArray',\n\t                value: function wrapArray(objects) {\n\t                    var _this2 = this;\n\t\n\t                    return objects.map(function (object) {\n\t                        return _this2.wrapInstance(object);\n\t                    });\n\t                }\n\t            }, {\n\t                key: 'wrappedRequest',\n\t                value: function wrappedRequest(type) {\n\t                    var _this3 = this;\n\t\n\t                    return this.baseRequest(type).then(function (result) {\n\t                        if (Array === result.constructor) {\n\t                            return _this3.wrapArray(result);\n\t                        }\n\t                        return _this3.wrapInstance(result);\n\t                    });\n\t                }\n\t\n\t                // query\n\t\n\t            }, {\n\t                key: 'from',\n\t                value: function from(parentBaseArg) {\n\t                    var parentBase = normalize(parentBaseArg);\n\t                    options.url = parentBase + options.url;\n\t                    return this;\n\t                }\n\t            }, {\n\t                key: 'transform',\n\t                value: function transform(t) {\n\t                    this.param('t', t);\n\t                    return this;\n\t                }\n\t            }, {\n\t                key: 'where',\n\t                value: function where(data) {\n\t                    if (arguments.length === 1) {\n\t                        q.where = data;\n\t                    } else {\n\t                        q.where = [].slice.call(arguments);\n\t                    }\n\t                    return this;\n\t                }\n\t            }, {\n\t                key: 'order',\n\t                value: function order(data) {\n\t                    q.order = data;\n\t                    return this;\n\t                }\n\t            }, {\n\t                key: 'sort',\n\t                value: function sort(data) {\n\t                    q.sort = data;\n\t                    return this;\n\t                }\n\t            }, {\n\t                key: 'limit',\n\t                value: function limit(data) {\n\t                    q.limit = data;\n\t                    return this;\n\t                }\n\t            }, {\n\t                key: 'fetch',\n\t                value: function fetch(arg) {\n\t                    var cb = typeof arg === 'function' ? arg : undefined;\n\t\n\t                    if (arg && !cb) {\n\t                        options.url += '/' + arg;\n\t                    }\n\t\n\t                    var promise = this.wrappedRequest('GET');\n\t\n\t                    if (cb) {\n\t                        return promise.then(cb);\n\t                    }\n\t\n\t                    return promise;\n\t                }\n\t            }, {\n\t                key: 'setupQuery',\n\t                value: function setupQuery() {\n\t                    if (Object.keys(q).length > 0) {\n\t                        this.param('q', JSON.stringify(q));\n\t                    }\n\t                }\n\t            }, {\n\t                key: 'list',\n\t                value: function list(cb) {\n\t                    this.setupQuery();\n\t\n\t                    var promise = this.wrappedRequest('GET');\n\t\n\t                    if (cb) {\n\t                        return promise.then(cb);\n\t                    }\n\t                    return promise;\n\t                }\n\t            }, {\n\t                key: 'first',\n\t                value: function first(cb) {\n\t                    this.limit(1);\n\t\n\t                    return this.list(function (objects) {\n\t                        var object = objects.length === 0 ? null : objects[0];\n\t                        return cb ? cb(object) : object;\n\t                    });\n\t                }\n\t            }, {\n\t                key: 'only',\n\t                value: function only(cb) {\n\t                    return this.list(function (objects) {\n\t                        if (objects.length !== 1) {\n\t                            throw 'called only but got ' + objects.length + ' results';\n\t                        }\n\t                        var object = objects[0];\n\t                        return cb ? cb(object) : object;\n\t                    });\n\t                }\n\t\n\t                // repository\n\t\n\t            }, {\n\t                key: 'create',\n\t                value: function create(object) {\n\t                    options.body = JSON.stringify(object);\n\t                    return this.wrappedRequest('POST');\n\t                }\n\t            }, {\n\t                key: 'update',\n\t                value: function update(object) {\n\t                    options.url = object.id;\n\t                    options.body = JSON.stringify(object);\n\t                    return this.wrappedRequest('PUT');\n\t                }\n\t            }, {\n\t                key: 'patch',\n\t                value: function patch(object) {\n\t                    options.url = object.id;\n\t                    options.body = JSON.stringify(object);\n\t                    return this.wrappedRequest('PATCH');\n\t                }\n\t            }, {\n\t                key: 'destroy',\n\t                value: function destroy(object) {\n\t                    if (object) {\n\t                        options.url = extractId(object);\n\t                    }\n\t                    return this.baseRequest('DELETE');\n\t                }\n\t\n\t                // actions\n\t\n\t            }, {\n\t                key: 'json',\n\t                value: function json(object) {\n\t                    options.body = JSON.stringify(object);\n\t                    return this;\n\t                }\n\t            }, {\n\t                key: 'params',\n\t                value: function params(_params) {\n\t                    options.query = (0, _utils.extend)(options.query, _params);\n\t                    return this;\n\t                }\n\t            }, {\n\t                key: 'param',\n\t                value: function param(key, value) {\n\t                    if (!options.query) {\n\t                        options.query = {};\n\t                    }\n\t                    options.query[key] = value;\n\t                }\n\t            }, {\n\t                key: 'action',\n\t                value: function action(verb, path) {\n\t                    options.url += '/' + path;\n\t                    return this.baseRequest(verb);\n\t                }\n\t            }, {\n\t                key: 'get',\n\t                value: function get(action) {\n\t                    return this.action('GET', action);\n\t                }\n\t            }, {\n\t                key: 'put',\n\t                value: function put(action) {\n\t                    return this.action('PUT', action);\n\t                }\n\t            }, {\n\t                key: '_patch',\n\t                value: function _patch(action) {\n\t                    return this.action('PATCH', action);\n\t                }\n\t            }, {\n\t                key: 'post',\n\t                value: function post(action) {\n\t                    return this.action('POST', action);\n\t                }\n\t            }, {\n\t                key: '_delete',\n\t                value: function _delete(action) {\n\t                    return this.action('DELETE', action);\n\t                }\n\t\n\t                // es5 subclassing\n\t\n\t            }, {\n\t                key: 'subclass',\n\t                value: function subclass(constructorFn) {\n\t                    var base = yawpFn(baseArg);\n\t                    var _super = this;\n\t                    var sub = function (_base) {\n\t                        _inherits(sub, _base);\n\t\n\t                        function sub() {\n\t                            _classCallCheck(this, sub);\n\t\n\t                            var _this4 = _possibleConstructorReturn(this, (sub.__proto__ || Object.getPrototypeOf(sub)).call(this));\n\t\n\t                            _super.bindBaseMethods(_this4, base);\n\t                            if (constructorFn) {\n\t                                constructorFn.apply(_this4, arguments);\n\t                            } else {\n\t                                _get(sub.prototype.__proto__ || Object.getPrototypeOf(sub.prototype), 'constructor', _this4).apply(_this4, arguments);\n\t                            }\n\t                            return _this4;\n\t                        }\n\t\n\t                        return sub;\n\t                    }(base);\n\t                    sub.super = base;\n\t                    return sub;\n\t                }\n\t            }, {\n\t                key: 'bindBaseMethods',\n\t                value: function bindBaseMethods(self, base) {\n\t                    self.super = function () {};\n\t                    var keys = Object.getOwnPropertyNames(base.prototype);\n\t                    for (var i = 0, l = keys.length; i < l; i++) {\n\t                        var key = keys[i];\n\t                        self.super[key] = base.prototype[key].bind(self);\n\t                    }\n\t                }\n\t            }]);\n\t\n\t            return Yawp;\n\t        }();\n\t\n\t        Yawp.clear();\n\t        return Yawp;\n\t    }\n\t\n\t    // base api\n\t\n\t    function customFetchOptions(fn) {\n\t        customFetchOptionsFn = fn;\n\t    }\n\t\n\t    function config(cb) {\n\t        var c = {\n\t            baseUrl: function baseUrl(url) {\n\t                _baseUrl = url;\n\t            },\n\t            defaultFetchOptions: function defaultFetchOptions(options) {\n\t                _defaultFetchOptions = options;\n\t            },\n\t            before: function before(fn) {\n\t                _before = fn;\n\t            },\n\t            then: function then(fn) {\n\t                _then = fn;\n\t            },\n\t            catch: function _catch(fn) {\n\t                _catch2 = fn;\n\t            }\n\t        };\n\t        cb(c);\n\t    }\n\t\n\t    function update(object) {\n\t        var id = extractId(object);\n\t        return yawpFn(id).update(object);\n\t    }\n\t\n\t    function patch(object) {\n\t        var id = extractId(object);\n\t        return yawpFn(id).patch(object);\n\t    }\n\t\n\t    function destroy(object) {\n\t        var id = extractId(object);\n\t        return yawpFn(id).destroy(object);\n\t    }\n\t\n\t    var baseApi = {\n\t        config: config,\n\t        customFetchOptions: customFetchOptions,\n\t        update: update,\n\t        patch: patch,\n\t        destroy: destroy\n\t    };\n\t\n\t    return (0, _utils.extend)(yawpFn, baseApi);\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// yawp.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b0ec43a060b651294f9f","import request from './request';\n\nvar yawp = require('./../commons/yawp')(request);\n\nexport default yawp;\n\n\n\n// WEBPACK FOOTER //\n// ./src/web/index.js","import { extend, toUrlParam } from '../commons/utils';\n\nexport default function (url, options) {\n    return new Promise((resolve, reject) => {\n        var query = options.query;\n        delete options.query;\n\n        var request = new XMLHttpRequest();\n\n        request.onreadystatechange = function () {\n            resolveOrReject(request, options, resolve, reject);\n        };\n\n        request.open(options.method, url + (query ? '?' + toUrlParam(query) : ''));\n        setHeaders(request, options.headers);\n        setCrossDomain(request, options.credentials);\n        request.send(options.body);\n    });\n}\n\nfunction resolveOrReject(request, options, resolve, reject) {\n    if (request.readyState === 4) {\n        if (request.status === 200) {\n            resolve(options.json ? JSON.parse(request.responseText) : request.responseText);\n        } else {\n            reject(request);\n        }\n    }\n}\n\nfunction setCrossDomain(request, credentials) {\n    if (!credentials || credentials === \"omit\") {\n        return;\n    }\n    request.withCredentials = true;\n}\n\nfunction setHeaders(request, headers) {\n    headers = headers || {};\n    extend(headers, {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json;charset=UTF-8',\n    });\n    for (var key in headers) {\n        if (headers.hasOwnProperty(key)) {\n            request.setRequestHeader(key, headers[key]);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/web/request.js","export function extend() {\n    var result = arguments[0] || {};\n\n    for (var i = 1, l = arguments.length; i < l; i++) {\n        var obj = arguments[i];\n        for (var attrname in obj) {\n            result[attrname] = obj[attrname];\n        }\n    }\n\n    return result;\n}\n\nexport function toUrlParam(jsonParams) {\n    return Object.keys(jsonParams).map(function (k) {\n        return encodeURIComponent(k) + '=' + encodeURIComponent(jsonParams[k]);\n    }).join('&');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/commons/utils.js","import {extend} from './utils';\n\nlet baseUrl = '/api';\nlet defaultFetchOptions = {};\nlet before = undefined;\nlet then = undefined;\nlet _catch = undefined;\n\nfunction normalize(arg) {\n    if (!arg) {\n        return '';\n    }\n    if (arg instanceof Object) {\n        return extractId(arg);\n    }\n    return arg;\n}\n\nfunction hasId(object) {\n    return object.id;\n}\n\nfunction extractId(object) {\n    if (hasId(object)) {\n        return object.id;\n    }\n    throw 'use yawp(id) if your endpoint does not have a @Id field called id';\n}\n\nexport default (request) => {\n\n    function yawpFn(baseArg) {\n\n        let options = {};\n        let q = {};\n\n        class Yawp {\n\n            constructor(props) {\n                if (props) {\n                    extend(this, props);\n                }\n            }\n\n            // request\n\n            static clear() {\n                options = {\n                    url: normalize(baseArg)\n                };\n                q = {};\n            }\n\n            static prepareRequestOptions() {\n                let _options = extend({}, options);\n                this.clear();\n                return _options;\n            }\n\n            static baseRequest(type) {\n                const options = this.prepareRequestOptions();\n\n                const url = baseUrl + options.url;\n                delete options.url;\n\n                options.method = type;\n                options.json = true;\n                extend(options, defaultFetchOptions);\n\n                const p = Promise.resolve(before ? before(options) : options);\n\n                return p.then(opt => opt || options).then(options => {\n                    let req = request(url, options);\n\n                    if (then) {\n                        req = req.then(then);\n                    }\n\n                    if (_catch) {\n                        req = req.catch(_catch);\n                    }\n\n                    return req;\n                });\n            }\n\n            static wrapInstance(object) {\n                return new this(object);\n            }\n\n            static wrapArray(objects) {\n                return objects.map((object) => this.wrapInstance(object));\n            }\n\n            static wrappedRequest(type) {\n                return this.baseRequest(type).then((result) => {\n                    if (Array === result.constructor) {\n                        return this.wrapArray(result);\n                    }\n                    return this.wrapInstance(result)\n                });\n            }\n\n            // query\n\n            static from(parentBaseArg) {\n                let parentBase = normalize(parentBaseArg);\n                options.url = parentBase + options.url;\n                return this;\n            }\n\n            static transform(t) {\n                this.param('t', t);\n                return this;\n            }\n\n            static where(data) {\n                if (arguments.length === 1) {\n                    q.where = data;\n                } else {\n                    q.where = [].slice.call(arguments);\n                }\n                return this;\n            }\n\n            static order(data) {\n                q.order = data;\n                return this;\n            }\n\n            static sort(data) {\n                q.sort = data;\n                return this;\n            }\n\n            static limit(data) {\n                q.limit = data;\n                return this;\n            }\n\n            static fetch(arg) {\n                let cb = typeof arg === 'function' ? arg : undefined;\n\n                if (arg && !cb) {\n                    options.url += '/' + arg;\n                }\n\n                let promise = this.wrappedRequest('GET');\n\n                if (cb) {\n                    return promise.then(cb);\n                }\n\n                return promise;\n            }\n\n            static setupQuery() {\n                if (Object.keys(q).length > 0) {\n                    this.param('q', JSON.stringify(q));\n                }\n            }\n\n            static list(cb) {\n                this.setupQuery();\n\n                let promise = this.wrappedRequest('GET');\n\n                if (cb) {\n                    return promise.then(cb);\n                }\n                return promise;\n            }\n\n            static first(cb) {\n                this.limit(1);\n\n                return this.list((objects) => {\n                    let object = objects.length === 0 ? null : objects[0];\n                    return cb ? cb(object) : object;\n                });\n            }\n\n            static only(cb) {\n                return this.list((objects) => {\n                    if (objects.length !== 1) {\n                        throw 'called only but got ' + objects.length + ' results';\n                    }\n                    let object = objects[0];\n                    return cb ? cb(object) : object;\n                });\n            }\n\n            // repository\n\n            static create(object) {\n                options.body = JSON.stringify(object);\n                return this.wrappedRequest('POST');\n            }\n\n            static update(object) {\n                options.url = object.id;\n                options.body = JSON.stringify(object);\n                return this.wrappedRequest('PUT');\n            }\n\n            static patch(object) {\n                options.url = object.id;\n                options.body = JSON.stringify(object);\n                return this.wrappedRequest('PATCH');\n            }\n\n            static destroy(object) {\n                if (object) {\n                    options.url = extractId(object);\n                }\n                return this.baseRequest('DELETE');\n            }\n\n            // actions\n\n            static json(object) {\n                options.body = JSON.stringify(object);\n                return this;\n            }\n\n            static params(params) {\n                options.query = extend(options.query, params);\n                return this;\n            }\n\n            static param(key, value) {\n                if (!options.query) {\n                    options.query = {};\n                }\n                options.query[key] = value;\n            }\n\n            static action(verb, path) {\n                options.url += '/' + path;\n                return this.baseRequest(verb);\n            }\n\n            static get(action) {\n                return this.action('GET', action);\n            }\n\n            static put(action) {\n                return this.action('PUT', action);\n            }\n\n            static _patch(action) {\n                return this.action('PATCH', action);\n            }\n\n            static post(action) {\n                return this.action('POST', action);\n            }\n\n            static _delete(action) {\n                return this.action('DELETE', action);\n            }\n\n            // es5 subclassing\n\n            static subclass(constructorFn) {\n                let base = yawpFn(baseArg);\n                let _super = this;\n                let sub = class extends base {\n                    constructor() {\n                        super();\n                        _super.bindBaseMethods(this, base);\n                        if (constructorFn) {\n                            constructorFn.apply(this, arguments);\n                        } else {\n                            super.constructor.apply(this, arguments);\n                        }\n                    }\n                };\n                sub.super = base;\n                return sub;\n            }\n\n            static bindBaseMethods(self, base) {\n                self.super = () => {\n                };\n                var keys = Object.getOwnPropertyNames(base.prototype);\n                for (let i = 0, l = keys.length; i < l; i++) {\n                    let key = keys[i];\n                    self.super[key] = base.prototype[key].bind(self);\n                }\n            }\n\n            // instance method\n\n            save(cb) {\n                let promise = this.createOrUpdate();\n                return cb ? promise.then(cb) : promise;\n            }\n\n            createOrUpdate() {\n                let promise;\n                if (hasId(this)) {\n                    options.url = this.id;\n                    promise = this.constructor.update(this);\n                } else {\n                    promise = this.constructor.create(this).then((object) => {\n                        this.id = object.id;\n                        return object;\n                    });\n                }\n                return promise;\n            }\n\n            destroy(cb) {\n                let promise = this.constructor.destroy(this);\n                return cb ? promise.then(cb) : promise;\n            }\n\n            get(action) {\n                options.url = extractId(this);\n                return this.constructor.get(action);\n            }\n\n            put(action) {\n                options.url = extractId(this);\n                return this.constructor.put(action);\n            }\n\n            _patch(action) {\n                options.url = extractId(this);\n                return this.constructor._patch(action);\n            }\n\n            post(action) {\n                options.url = extractId(this);\n                return this.constructor.post(action);\n            }\n\n            _delete(action) {\n                options.url = extractId(this);\n                return this.constructor._delete(action);\n            }\n        }\n\n        Yawp.clear();\n        return Yawp;\n    }\n\n    // base api\n\n    function customFetchOptions(fn) {\n        customFetchOptionsFn = fn;\n    }\n\n    function config(cb) {\n        let c = {\n            baseUrl: (url) => {\n                baseUrl = url;\n            },\n            defaultFetchOptions: (options) => {\n                defaultFetchOptions = options;\n            },\n            before: (fn) => {\n                before = fn;\n            },\n            then: (fn) => {\n                then = fn;\n            },\n            catch: (fn) => {\n                _catch = fn;\n            }\n        };\n        cb(c);\n    }\n\n    function update(object) {\n        let id = extractId(object);\n        return yawpFn(id).update(object);\n    }\n\n    function patch(object) {\n        let id = extractId(object);\n        return yawpFn(id).patch(object);\n    }\n\n    function destroy(object) {\n        let id = extractId(object);\n        return yawpFn(id).destroy(object);\n    }\n\n    let baseApi = {\n        config,\n        customFetchOptions,\n        update,\n        patch,\n        destroy\n    }\n\n    return extend(yawpFn, baseApi);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/commons/yawp.js"],"sourceRoot":""}