{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///yawp.min.js","webpack:///webpack/bootstrap 5b408e33f4131b15e4b9","webpack:///./src/browser/index.js","webpack:///./src/browser/request.js","webpack:///./src/commons/utils.js","webpack:///./src/commons/yawp.js","webpack:///./src/commons/fixtures.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_request","_request2","yawp","fixtures","setHeaders","request","headers","_utils","extend","Accept","Content-Type","key","hasOwnProperty","setRequestHeader","url","query","options","_fail","_done","_exception","_then","_error","toUrlParam","callbacks","fail","callback","onreadystatechange","done","exception","then","error","XMLHttpRequest","readyState","status","JSON","parse","responseText","responseJSON","open","method","synchronous","send","body","result","arguments","i","l","length","attrname","jsonParams","keys","map","k","encodeURIComponent","join","config","baseUrl","_baseUrl","defaultFetchOptions","_defaultFetchOptions","baseRequest","type","data","extractId","object","where","q","slice","order","sort","limit","fetch","setupQuery","addQueryParameter","stringify","decode","decodeURIComponent","list","first","objects","only","repository","create","update","patch","destroy","actions","actionOptions","action","json","setJson","params","addQueryParameters","get","put","_patch","post","_delete","baseArg","normalize","arg","ajaxOptions","from","parentBaseArg","parentBase","transform","t","sync","async","api","resetUrl","_resetUrl","lazyPropertyKeys","array","_lazyPropertyKeys","bind","endpoint","parentId","_bind","fixture","lazy","computeLazyApi","fn","bindFn","args","Array","prototype","unshift","apply","reset","load","parseFunctions","property","Function","prepareDataJSON","newData","save","retrievedObject","console","retrievedData","Error","loadFixture","hasLazy","computeLazyPropertiesApi","apiKey","fixtureKey","addLazyPropertyApi","propertyKey","lazyPropertiesApi","lazyMap","addLazyApi","lazyProperties","lazyApi"],"mappings":"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","file":"yawp.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"yawp\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yawp\"] = factory();\n\telse\n\t\troot[\"yawp\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"yawp\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yawp\"] = factory();\n\telse\n\t\troot[\"yawp\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _request = __webpack_require__(1);\n\t\n\tvar _request2 = _interopRequireDefault(_request);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar yawp = __webpack_require__(3)(_request2.default);\n\tvar fixtures = __webpack_require__(4)(_request2.default);\n\t\n\tyawp.fixtures = fixtures;\n\t\n\texports.default = yawp;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function (url, query, options) {\n\t    var _fail, _done, _exception, _then, _error, request;\n\t\n\t    url += query ? '?' + (0, _utils.toUrlParam)(query) : '';\n\t\n\t    var callbacks = {\n\t        fail: function fail(callback) {\n\t            _fail = callback;\n\t            request.onreadystatechange();\n\t            return callbacks;\n\t        },\n\t        done: function done(callback) {\n\t            _done = callback;\n\t            request.onreadystatechange();\n\t            return callbacks;\n\t        },\n\t        exception: function exception(callback) {\n\t            _exception = callback;\n\t            request.onreadystatechange();\n\t            return callbacks;\n\t        },\n\t        then: function then(callback) {\n\t            _then = callback;\n\t            request.onreadystatechange();\n\t            return callbacks;\n\t        },\n\t        error: function error(callback) {\n\t            _error = callback;\n\t            request.onreadystatechange();\n\t            return callbacks;\n\t        }\n\t    };\n\t\n\t    request = new XMLHttpRequest();\n\t    request.onreadystatechange = function () {\n\t        if (request.readyState === 4) {\n\t            if (request.status === 200) {\n\t                if (_done) {\n\t                    _done(JSON.parse(request.responseText));\n\t                }\n\t                if (_then) {\n\t                    _then(JSON.parse(request.responseText));\n\t                }\n\t            } else {\n\t                if (_fail) {\n\t                    _fail(request);\n\t                }\n\t                if (_error) {\n\t                    _error((0, _utils.extend)({}, request, { responseJSON: JSON.parse(request.responseText) }));\n\t                }\n\t                if (_exception) {\n\t                    _exception(JSON.parse(request.responseText));\n\t                }\n\t            }\n\t        }\n\t    };\n\t\n\t    request.open(options.method, url, !options.synchronous);\n\t    setHeaders(request, options.headers);\n\t    request.send(options.body);\n\t\n\t    return callbacks;\n\t};\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction setHeaders(request, headers) {\n\t    headers = headers || {};\n\t    (0, _utils.extend)(headers, {\n\t        'Accept': 'application/json',\n\t        'Content-Type': 'application/json;charset=UTF-8'\n\t    });\n\t    for (var key in headers) {\n\t        if (headers.hasOwnProperty(key)) {\n\t            request.setRequestHeader(key, headers[key]);\n\t        }\n\t    }\n\t}\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.extend = extend;\n\texports.toUrlParam = toUrlParam;\n\tfunction extend() {\n\t    var result = arguments[0] || {};\n\t\n\t    for (var i = 1, l = arguments.length; i < l; i++) {\n\t        var obj = arguments[i];\n\t        for (var attrname in obj) {\n\t            result[attrname] = obj[attrname];\n\t        }\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction toUrlParam(jsonParams) {\n\t    return Object.keys(jsonParams).map(function (k) {\n\t        return encodeURIComponent(k) + '=' + encodeURIComponent(jsonParams[k]);\n\t    }).join('&');\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function (request) {\n\t\n\t    function config(callback) {\n\t        var c = {\n\t            baseUrl: function baseUrl(url) {\n\t                _baseUrl = url;\n\t            },\n\t            defaultFetchOptions: function defaultFetchOptions(options) {\n\t                _defaultFetchOptions = options;\n\t            }\n\t        };\n\t\n\t        callback(c);\n\t    }\n\t\n\t    function baseRequest(type, options) {\n\t        var url = _baseUrl + options.url;\n\t        var query = options.query;\n\t        var body = options.data;\n\t        delete options.url;\n\t        delete options.query;\n\t\n\t        options.method = type;\n\t        options.body = body;\n\t        (0, _utils.extend)(options, _defaultFetchOptions);\n\t\n\t        return request(url, query, options);\n\t    }\n\t\n\t    function extractId(object) {\n\t        if (object.id) {\n\t            return object.id;\n\t        }\n\t        throw 'use yawp(id) if your endpoint does not have a @Id field called id';\n\t    }\n\t\n\t    function query(options) {\n\t        var q = {};\n\t\n\t        function where(data) {\n\t            if (arguments.length === 1) {\n\t                q.where = data;\n\t            } else {\n\t                q.where = [].slice.call(arguments);\n\t            }\n\t            return this;\n\t        }\n\t\n\t        function order(data) {\n\t            q.order = data;\n\t            return this;\n\t        }\n\t\n\t        function sort(data) {\n\t            q.sort = data;\n\t            return this;\n\t        }\n\t\n\t        function limit(data) {\n\t            q.limit = data;\n\t            return this;\n\t        }\n\t\n\t        function fetch(callback) {\n\t            return baseRequest('GET', options()).done(callback);\n\t        }\n\t\n\t        function setupQuery() {\n\t            if (Object.keys(q).length > 0) {\n\t                options.addQueryParameter('q', JSON.stringify(q));\n\t            }\n\t        }\n\t\n\t        function url(decode) {\n\t            setupQuery();\n\t            var url = _baseUrl + options().url + (options().query ? '?' + toUrlParam(options().query) : '');\n\t            if (decode) {\n\t                return decodeURIComponent(url);\n\t            }\n\t            return url;\n\t        }\n\t\n\t        function list(callback) {\n\t            setupQuery();\n\t            return baseRequest('GET', options()).done(callback);\n\t        }\n\t\n\t        function first(callback) {\n\t            limit(1);\n\t\n\t            return list(function (objects) {\n\t                var object = objects.length === 0 ? null : objects[0];\n\t                if (callback) {\n\t                    callback(object);\n\t                }\n\t            });\n\t        }\n\t\n\t        function only(callback) {\n\t            return list(function (objects) {\n\t                if (objects.length !== 1) {\n\t                    throw 'called only but got ' + objects.length + ' results';\n\t                }\n\t                if (callback) {\n\t                    callback(objects[0]);\n\t                }\n\t            });\n\t        }\n\t\n\t        return {\n\t            where: where,\n\t            order: order,\n\t            sort: sort,\n\t            limit: limit,\n\t            fetch: fetch,\n\t            list: list,\n\t            first: first,\n\t            only: only,\n\t            url: url\n\t        };\n\t    }\n\t\n\t    function repository(options) {\n\t        function create(object) {\n\t            options().data = JSON.stringify(object);\n\t            return baseRequest('POST', options());\n\t        }\n\t\n\t        function update(object) {\n\t            options().data = JSON.stringify(object);\n\t            return baseRequest('PUT', options());\n\t        }\n\t\n\t        function patch(object) {\n\t            options().data = JSON.stringify(object);\n\t            return baseRequest('PATCH', options());\n\t        }\n\t\n\t        function destroy() {\n\t            return baseRequest('DELETE', options());\n\t        }\n\t\n\t        return {\n\t            create: create,\n\t            update: update,\n\t            patch: patch,\n\t            destroy: destroy\n\t        };\n\t    }\n\t\n\t    function actions(options) {\n\t        function actionOptions(action) {\n\t            options().url += '/' + action;\n\t            return options();\n\t        }\n\t\n\t        function json(object) {\n\t            options.setJson(object);\n\t            return this;\n\t        }\n\t\n\t        function params(params) {\n\t            options.addQueryParameters(params);\n\t            return this;\n\t        }\n\t\n\t        function get(action) {\n\t            return baseRequest('GET', actionOptions(action));\n\t        }\n\t\n\t        function put(action) {\n\t            return baseRequest('PUT', actionOptions(action));\n\t        }\n\t\n\t        function _patch(action) {\n\t            return baseRequest('PATCH', actionOptions(action));\n\t        }\n\t\n\t        function post(action) {\n\t            return baseRequest('POST', actionOptions(action));\n\t        }\n\t\n\t        function _delete(action) {\n\t            return baseRequest('DELETE', actionOptions(action));\n\t        }\n\t\n\t        return {\n\t            json: json,\n\t            params: params,\n\t            get: get,\n\t            put: put,\n\t            _patch: _patch,\n\t            post: post,\n\t            _delete: _delete\n\t        };\n\t    }\n\t\n\t    function yawp(baseArg) {\n\t        function normalize(arg) {\n\t            if (!arg) {\n\t                return '';\n\t            }\n\t            if (arg instanceof Object) {\n\t                return extractId(arg);\n\t            }\n\t            return arg;\n\t        }\n\t\n\t        var ajaxOptions = {\n\t            url: normalize(baseArg),\n\t            async: true\n\t        };\n\t\n\t        function options() {\n\t            return ajaxOptions;\n\t        }\n\t\n\t        options.setJson = function (object) {\n\t            ajaxOptions.data = JSON.stringify(object);\n\t        };\n\t\n\t        options.addQueryParameters = function (params) {\n\t            ajaxOptions.query = (0, _utils.extend)(ajaxOptions.query, params);\n\t        };\n\t\n\t        options.addQueryParameter = function (key, value) {\n\t            if (!ajaxOptions.query) {\n\t                ajaxOptions.query = {};\n\t            }\n\t            ajaxOptions.query[key] = value;\n\t        };\n\t\n\t        function from(parentBaseArg) {\n\t            var parentBase = normalize(parentBaseArg);\n\t            options().url = parentBase + options().url;\n\t            return this;\n\t        }\n\t\n\t        function transform(t) {\n\t            options.addQueryParameter('t', t);\n\t            return this;\n\t        }\n\t\n\t        function sync() {\n\t            ajaxOptions.async = false;\n\t            return this;\n\t        }\n\t\n\t        return (0, _utils.extend)({\n\t            from: from,\n\t            transform: transform,\n\t            sync: sync\n\t        }, query(options), repository(options), actions(options));\n\t    }\n\t\n\t    function update(object) {\n\t        var id = extractId(object);\n\t        return yawp(id).update(object);\n\t    }\n\t\n\t    function patch(object) {\n\t        var id = extractId(object);\n\t        return yawp(id).patch(object);\n\t    }\n\t\n\t    function destroy(object) {\n\t        var id = extractId(object);\n\t        return yawp(id).destroy(object);\n\t    }\n\t\n\t    var api = {\n\t        config: config,\n\t        update: update,\n\t        patch: patch,\n\t        destroy: destroy\n\t    };\n\t\n\t    return (0, _utils.extend)(yawp, api);\n\t};\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _baseUrl = '/api';\n\tvar _defaultFetchOptions = {};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function (request) {\n\t\n\t    // config\n\t\n\t    function config(callback) {\n\t        var c = {\n\t            baseUrl: function baseUrl(url) {\n\t                _baseUrl = url;\n\t            },\n\t            resetUrl: function resetUrl(url) {\n\t                _resetUrl = url;\n\t            },\n\t            lazyPropertyKeys: function lazyPropertyKeys(array) {\n\t                _lazyPropertyKeys = array;\n\t            },\n\t            bind: function bind(key, endpoint, parentId) {\n\t                api[key] = _bind(fixture, endpoint, parentId);\n\t            }\n\t        };\n\t\n\t        callback(c);\n\t\n\t        api.lazy = computeLazyApi();\n\t    }\n\t\n\t    // lib\n\t\n\t    var lazy = {};\n\t    var lazyProperties = {};\n\t\n\t    var load = {};\n\t\n\t    function _bind(fn, endpoint, parentId) {\n\t        var bindFn = function bindFn() {\n\t            var args = Array.prototype.slice.call(arguments, 0);\n\t            args.unshift(parentId);\n\t            args.unshift(endpoint);\n\t            return fn.apply(this, args);\n\t        };\n\t        bindFn.endpoint = endpoint;\n\t        return bindFn;\n\t    }\n\t\n\t    function reset() {\n\t        request(_resetUrl, null, {\n\t            method: 'GET',\n\t            synchronous: true\n\t        });\n\t\n\t        load = {};\n\t    }\n\t\n\t    function parseFunctions(object) {\n\t        var i;\n\t        for (i in object) {\n\t            if (!object.hasOwnProperty(i)) {\n\t                continue;\n\t            }\n\t\n\t            var property = object[i];\n\t\n\t            if (property instanceof Function) {\n\t                object[i] = property();\n\t                continue;\n\t            }\n\t\n\t            if (property instanceof Object) {\n\t                parseFunctions(property);\n\t                continue;\n\t            }\n\t        }\n\t    }\n\t\n\t    function prepareDataJSON(data) {\n\t        var newData = {};\n\t        (0, _utils.extend)(newData, data);\n\t        parseFunctions(newData);\n\t        return JSON.stringify(newData);\n\t    }\n\t\n\t    function save(endpoint, parentId, data) {\n\t        var retrievedObject = null;\n\t\n\t        if (!endpoint) {\n\t            console.error('not endpoint?!');\n\t        }\n\t\n\t        var url = _baseUrl + (parentId ? data[parentId] : '') + endpoint;\n\t        var query = null;\n\t\n\t        request(url, query, {\n\t            method: 'POST',\n\t            synchronous: true,\n\t            body: prepareDataJSON(data)\n\t        }).done(function (retrievedData) {\n\t            retrievedObject = retrievedData;\n\t        }).fail(function (data) {\n\t            throw Error('error: ' + data);\n\t        });\n\t\n\t        return retrievedObject;\n\t    }\n\t\n\t    function loadFixture(endpoint, key) {\n\t        if (!load[endpoint]) {\n\t            load[endpoint] = {};\n\t            return null;\n\t        }\n\t        return load[endpoint][key];\n\t    }\n\t\n\t    function hasLazy(endpoint, key) {\n\t        if (!lazy[endpoint]) {\n\t            return false;\n\t        }\n\t        if (!lazy[endpoint][key]) {\n\t            return false;\n\t        }\n\t        return true;\n\t    }\n\t\n\t    function fixture(endpoint, parentId, key, data) {\n\t        var object = loadFixture(endpoint, key);\n\t        if (object) {\n\t            return object;\n\t        }\n\t\n\t        if (!data) {\n\t            if (hasLazy(endpoint, key)) {\n\t                data = lazy[endpoint][key];\n\t            } else {\n\t                return null;\n\t            }\n\t        }\n\t\n\t        object = save(endpoint, parentId, data);\n\t        load[endpoint][key] = object;\n\t        return object;\n\t    }\n\t\n\t    function map(objects) {\n\t        var result = {};\n\t\n\t        for (var i in objects) {\n\t            var object = objects[i];\n\t\n\t            var key = object.key;\n\t            var value = object.value;\n\t\n\t            if (key instanceof Function) {\n\t                key = key();\n\t            }\n\t\n\t            result[key] = value;\n\t        }\n\t        return result;\n\t    }\n\t\n\t    function computeLazyPropertiesApi(apiKey, fixtureKey) {\n\t        var i,\n\t            lazyPropertiesApi = {};\n\t\n\t        function addLazyPropertyApi(propertyKey) {\n\t            return function () {\n\t                return api[apiKey](fixtureKey)[propertyKey];\n\t            };\n\t        }\n\t\n\t        for (i = 0; i < _lazyPropertyKeys.length; i++) {\n\t            var propertyKey = _lazyPropertyKeys[i];\n\t            lazyPropertiesApi[propertyKey] = addLazyPropertyApi(propertyKey);\n\t        }\n\t\n\t        return lazyPropertiesApi;\n\t    }\n\t\n\t    function lazyMap(objects) {\n\t        return function () {\n\t            return map(objects);\n\t        };\n\t    }\n\t\n\t    function computeLazyApi() {\n\t        var lazyApi = {};\n\t\n\t        function addLazyApi(apiKey, endpoint) {\n\t            return function (fixtureKey, data) {\n\t                if (!lazy[endpoint]) {\n\t                    lazy[endpoint] = {};\n\t                    lazyProperties[endpoint] = {};\n\t                } else if (lazy[endpoint][fixtureKey]) {\n\t                    // lazy fixture already configured, someone is refering a\n\t                    // lazy property.\n\t                    return lazyProperties[endpoint][fixtureKey];\n\t                }\n\t\n\t                lazy[endpoint][fixtureKey] = data;\n\t                lazyProperties[endpoint][fixtureKey] = computeLazyPropertiesApi(apiKey, fixtureKey);\n\t            };\n\t        }\n\t\n\t        for (var apiKey in api) {\n\t            var endpoint = api[apiKey].endpoint;\n\t            lazyApi[apiKey] = addLazyApi(apiKey, endpoint);\n\t        }\n\t\n\t        lazyApi.map = lazyMap;\n\t\n\t        return lazyApi;\n\t    }\n\t\n\t    api.lazy = computeLazyApi();\n\t    api.reset = reset;\n\t    api.map = map;\n\t    api.config = config;\n\t\n\t    return api;\n\t};\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _baseUrl = '/fixtures';\n\tvar _resetUrl = '/_ah/yawp/datastore/delete_all';\n\tvar _lazyPropertyKeys = ['id']; // needed till harmony proxies\n\t\n\tvar api = {};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** yawp.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 5b408e33f4131b15e4b9\n **/","import request from './request';\n\nvar yawp = require('./../commons/yawp')(request);\nvar fixtures = require('./../commons/fixtures')(request);\n\nyawp.fixtures = fixtures;\n\nexport default yawp;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/browser/index.js\n **/","import { extend, toUrlParam } from '../commons/utils';\n\nexport default function (url, query, options) {\n    var fail\n        , done\n        , exception\n        , then\n        , error\n        , request;\n\n    url += (query ? '?' + toUrlParam(query) : '');\n\n    var callbacks = {\n        fail: function (callback) {\n            fail = callback;\n            request.onreadystatechange();\n            return callbacks;\n        },\n        done: function (callback) {\n            done = callback;\n            request.onreadystatechange();\n            return callbacks;\n        },\n        exception: function (callback) {\n            exception = callback;\n            request.onreadystatechange();\n            return callbacks;\n        },\n        then: function (callback) {\n            then = callback;\n            request.onreadystatechange();\n            return callbacks;\n        },\n        error: function (callback) {\n            error = callback;\n            request.onreadystatechange();\n            return callbacks;\n        }\n    };\n\n    request = new XMLHttpRequest();\n    request.onreadystatechange = function () {\n        if (request.readyState === 4) {\n            if (request.status === 200) {\n                if (done) {\n                    done(JSON.parse(request.responseText));\n                }\n                if (then) {\n                    then(JSON.parse(request.responseText));\n                }\n            } else {\n                if (fail) {\n                    fail(request);\n                }\n                if (error) {\n                    error(extend({}, request, {responseJSON: JSON.parse(request.responseText)}));\n                }\n                if (exception) {\n                    exception(JSON.parse(request.responseText));\n                }\n            }\n        }\n    };\n\n    request.open(options.method, url, !options.synchronous);\n    setHeaders(request, options.headers);\n    request.send(options.body);\n\n    return callbacks;\n}\n\nfunction setHeaders(request, headers) {\n    headers = headers || {};\n    extend(headers, {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json;charset=UTF-8',\n    });\n    for (var key in headers) {\n        if (headers.hasOwnProperty(key)) {\n            request.setRequestHeader(key, headers[key]);\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/browser/request.js\n **/","export function extend() {\n    var result = arguments[0] || {};\n\n    for (var i = 1, l = arguments.length; i < l; i++) {\n        var obj = arguments[i];\n        for (var attrname in obj) {\n            result[attrname] = obj[attrname];\n        }\n    }\n\n    return result;\n}\n\nexport function toUrlParam(jsonParams) {\n    return Object.keys(jsonParams).map(function (k) {\n        return encodeURIComponent(k) + '=' + encodeURIComponent(jsonParams[k]);\n    }).join('&');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/commons/utils.js\n **/","import { extend } from './utils';\n\nvar baseUrl = '/api';\nvar defaultFetchOptions = {};\n\nexport default function (request) {\n\n    function config(callback) {\n        var c = {\n            baseUrl: function (url) {\n                baseUrl = url;\n            },\n            defaultFetchOptions: function (options) {\n                defaultFetchOptions = options;\n            }\n        };\n\n        callback(c);\n    }\n\n    function baseRequest(type, options) {\n        var url = baseUrl + options.url;\n        var query = options.query;\n        var body = options.data;\n        delete options.url;\n        delete options.query;\n\n        options.method = type;\n        options.body = body;\n        extend(options, defaultFetchOptions);\n\n        return request(url, query, options);\n    }\n\n    function extractId(object) {\n        if (object.id) {\n            return object.id;\n        }\n        throw 'use yawp(id) if your endpoint does not have a @Id field called id';\n    }\n\n    function query(options) {\n        var q = {};\n\n        function where(data) {\n            if (arguments.length === 1) {\n                q.where = data;\n            } else {\n                q.where = [].slice.call(arguments);\n            }\n            return this;\n        }\n\n        function order(data) {\n            q.order = data;\n            return this;\n        }\n\n        function sort(data) {\n            q.sort = data;\n            return this;\n        }\n\n        function limit(data) {\n            q.limit = data;\n            return this;\n        }\n\n        function fetch(callback) {\n            return baseRequest('GET', options()).done(callback);\n        }\n\n        function setupQuery() {\n            if (Object.keys(q).length > 0) {\n                options.addQueryParameter('q', JSON.stringify(q));\n            }\n        }\n\n        function url(decode) {\n            setupQuery();\n            var url = baseUrl + options().url + (options().query ? '?' + toUrlParam(options().query) : '');\n            if (decode) {\n                return decodeURIComponent(url);\n            }\n            return url;\n        }\n\n        function list(callback) {\n            setupQuery();\n            return baseRequest('GET', options()).done(callback);\n        }\n\n        function first(callback) {\n            limit(1);\n\n            return list(function (objects) {\n                var object = objects.length === 0 ? null : objects[0];\n                if (callback) {\n                    callback(object);\n                }\n            });\n        }\n\n        function only(callback) {\n            return list(function (objects) {\n                if (objects.length !== 1) {\n                    throw 'called only but got ' + objects.length + ' results';\n                }\n                if (callback) {\n                    callback(objects[0]);\n                }\n            });\n        }\n\n        return {\n            where: where,\n            order: order,\n            sort: sort,\n            limit: limit,\n            fetch: fetch,\n            list: list,\n            first: first,\n            only: only,\n            url: url\n        };\n    }\n\n    function repository(options) {\n        function create(object) {\n            options().data = JSON.stringify(object);\n            return baseRequest('POST', options());\n        }\n\n        function update(object) {\n            options().data = JSON.stringify(object);\n            return baseRequest('PUT', options());\n        }\n\n        function patch(object) {\n            options().data = JSON.stringify(object);\n            return baseRequest('PATCH', options());\n        }\n\n        function destroy() {\n            return baseRequest('DELETE', options());\n        }\n\n        return {\n            create: create,\n            update: update,\n            patch: patch,\n            destroy: destroy\n        };\n    }\n\n    function actions(options) {\n        function actionOptions(action) {\n            options().url += '/' + action;\n            return options();\n        }\n\n        function json(object) {\n            options.setJson(object);\n            return this;\n        }\n\n        function params(params) {\n            options.addQueryParameters(params);\n            return this;\n        }\n\n        function get(action) {\n            return baseRequest('GET', actionOptions(action));\n        }\n\n        function put(action) {\n            return baseRequest('PUT', actionOptions(action));\n        }\n\n        function _patch(action) {\n            return baseRequest('PATCH', actionOptions(action));\n        }\n\n        function post(action) {\n            return baseRequest('POST', actionOptions(action));\n        }\n\n        function _delete(action) {\n            return baseRequest('DELETE', actionOptions(action));\n        }\n\n        return {\n            json: json,\n            params: params,\n            get: get,\n            put: put,\n            _patch: _patch,\n            post: post,\n            _delete: _delete\n        };\n    }\n\n    function yawp(baseArg) {\n        function normalize(arg) {\n            if (!arg) {\n                return '';\n            }\n            if (arg instanceof Object) {\n                return extractId(arg);\n            }\n            return arg;\n        }\n\n        var ajaxOptions = {\n            url: normalize(baseArg),\n            async: true\n        };\n\n        function options() {\n            return ajaxOptions;\n        }\n\n        options.setJson = function (object) {\n            ajaxOptions.data = JSON.stringify(object);\n        };\n\n        options.addQueryParameters = function (params) {\n            ajaxOptions.query = extend(ajaxOptions.query, params);\n        };\n\n        options.addQueryParameter = function (key, value) {\n            if (!ajaxOptions.query) {\n                ajaxOptions.query = {};\n            }\n            ajaxOptions.query[key] = value;\n        };\n\n        function from(parentBaseArg) {\n            var parentBase = normalize(parentBaseArg);\n            options().url = parentBase + options().url;\n            return this;\n        }\n\n        function transform(t) {\n            options.addQueryParameter('t', t);\n            return this;\n        }\n\n        function sync() {\n            ajaxOptions.async = false;\n            return this;\n        }\n\n        return extend({\n            from: from,\n            transform: transform,\n            sync: sync\n        }, query(options), repository(options), actions(options));\n    }\n\n    function update(object) {\n        var id = extractId(object);\n        return yawp(id).update(object);\n    }\n\n    function patch(object) {\n        var id = extractId(object);\n        return yawp(id).patch(object);\n    }\n\n    function destroy(object) {\n        var id = extractId(object);\n        return yawp(id).destroy(object);\n    }\n\n    var api = {\n        config: config,\n        update: update,\n        patch: patch,\n        destroy: destroy\n    };\n\n    return extend(yawp, api);\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/commons/yawp.js\n **/","import { extend } from './utils';\n\nvar baseUrl = '/fixtures';\nvar resetUrl = '/_ah/yawp/datastore/delete_all';\nvar lazyPropertyKeys = ['id']; // needed till harmony proxies\n\nvar api = {};\n\nexport default function (request) {\n\n    // config\n\n    function config(callback) {\n        var c = {\n            baseUrl: function (url) {\n                baseUrl = url;\n            },\n            resetUrl: function (url) {\n                resetUrl = url;\n            },\n            lazyPropertyKeys: function (array) {\n                lazyPropertyKeys = array;\n            },\n            bind: function (key, endpoint, parentId) {\n                api[key] = bind(fixture, endpoint, parentId);\n            }\n        };\n\n        callback(c);\n\n        api.lazy = computeLazyApi();\n    }\n\n    // lib\n\n    var lazy = {};\n    var lazyProperties = {};\n\n    var load = {};\n\n    function bind(fn, endpoint, parentId) {\n        var bindFn = function () {\n            var args = Array.prototype.slice.call(arguments, 0);\n            args.unshift(parentId);\n            args.unshift(endpoint);\n            return fn.apply(this, args);\n        };\n        bindFn.endpoint = endpoint;\n        return bindFn;\n    }\n\n    function reset() {\n        request(resetUrl, null, {\n            method: 'GET',\n            synchronous: true,\n        });\n\n        load = {};\n    }\n\n    function parseFunctions(object) {\n        var i;\n        for (i in object) {\n            if (!object.hasOwnProperty(i)) {\n                continue;\n            }\n\n            var property = object[i];\n\n            if (property instanceof Function) {\n                object[i] = property();\n                continue;\n            }\n\n            if (property instanceof Object) {\n                parseFunctions(property);\n                continue;\n            }\n        }\n    }\n\n    function prepareDataJSON(data) {\n        var newData = {};\n        extend(newData, data);\n        parseFunctions(newData);\n        return JSON.stringify(newData);\n    }\n\n    function save(endpoint, parentId, data) {\n        var retrievedObject = null;\n\n        if (!endpoint) {\n            console.error('not endpoint?!');\n        }\n\n        var url = baseUrl + (parentId ? data[parentId] : '') + endpoint;\n        var query = null;\n\n        request(url, query, {\n            method: 'POST',\n            synchronous: true,\n            body: prepareDataJSON(data)\n        }).done(function (retrievedData) {\n            retrievedObject = retrievedData;\n        }).fail(function (data) {\n            throw Error('error: ' + data);\n        });\n\n        return retrievedObject;\n    }\n\n    function loadFixture(endpoint, key) {\n        if (!load[endpoint]) {\n            load[endpoint] = {};\n            return null;\n        }\n        return load[endpoint][key];\n    }\n\n    function hasLazy(endpoint, key) {\n        if (!lazy[endpoint]) {\n            return false;\n        }\n        if (!lazy[endpoint][key]) {\n            return false;\n        }\n        return true;\n    }\n\n    function fixture(endpoint, parentId, key, data) {\n        var object = loadFixture(endpoint, key);\n        if (object) {\n            return object;\n        }\n\n        if (!data) {\n            if (hasLazy(endpoint, key)) {\n                data = lazy[endpoint][key];\n            } else {\n                return null;\n            }\n        }\n\n        object = save(endpoint, parentId, data);\n        load[endpoint][key] = object;\n        return object;\n    }\n\n    function map(objects) {\n        var result = {};\n\n        for (var i in objects) {\n            var object = objects[i];\n\n            var key = object.key;\n            var value = object.value;\n\n            if (key instanceof Function) {\n                key = key();\n            }\n\n            result[key] = value;\n        }\n        return result;\n    }\n\n    function computeLazyPropertiesApi(apiKey, fixtureKey) {\n        var i, lazyPropertiesApi = {};\n\n        function addLazyPropertyApi(propertyKey) {\n            return function () {\n                return api[apiKey](fixtureKey)[propertyKey];\n            };\n        }\n\n        for (i = 0; i < lazyPropertyKeys.length; i++) {\n            var propertyKey = lazyPropertyKeys[i];\n            lazyPropertiesApi[propertyKey] = addLazyPropertyApi(propertyKey);\n        }\n\n        return lazyPropertiesApi;\n    }\n\n    function lazyMap(objects) {\n        return function () {\n            return map(objects);\n        };\n    }\n\n    function computeLazyApi() {\n        var lazyApi = {};\n\n        function addLazyApi(apiKey, endpoint) {\n            return function (fixtureKey, data) {\n                if (!lazy[endpoint]) {\n                    lazy[endpoint] = {};\n                    lazyProperties[endpoint] = {};\n                } else if (lazy[endpoint][fixtureKey]) {\n                    // lazy fixture already configured, someone is refering a\n                    // lazy property.\n                    return lazyProperties[endpoint][fixtureKey];\n                }\n\n                lazy[endpoint][fixtureKey] = data;\n                lazyProperties[endpoint][fixtureKey] = computeLazyPropertiesApi(apiKey, fixtureKey);\n            };\n        }\n\n        for (var apiKey in api) {\n            var endpoint = api[apiKey].endpoint;\n            lazyApi[apiKey] = addLazyApi(apiKey, endpoint);\n        }\n\n        lazyApi.map = lazyMap;\n\n        return lazyApi;\n    }\n\n    api.lazy = computeLazyApi();\n    api.reset = reset;\n    api.map = map;\n    api.config = config;\n\n    return api;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/commons/fixtures.js\n **/"],"sourceRoot":""}