!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("yawp",[],e):"object"==typeof exports?exports.yawp=e():t.yawp=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return t[r].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(1),o=r(u),i=n(3)(o["default"]);e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";function r(t,e,n,r){4===t.readyState&&(200===t.status?n(e.json?JSON.parse(t.responseText):t.responseText):r(t))}function u(t,e){e=e||{},(0,o.extend)(e,{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"});for(var n in e)e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return new Promise(function(n,i){var a=e.query;delete e.query;var c=new XMLHttpRequest;c.onreadystatechange=function(){r(c,e,n,i)},c.open(e.method,t+(a?"?"+(0,o.toUrlParam)(a):"")),u(c,e.headers),c.send(e.body)})};var o=n(2);t.exports=e["default"]},function(t,e){"use strict";function n(){for(var t=arguments[0]||{},e=1,n=arguments.length;e<n;e++){var r=arguments[e];for(var u in r)t[u]=r[u]}return t}function r(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}Object.defineProperty(e,"__esModule",{value:!0}),e.extend=n,e.toUrlParam=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){function e(t){var e={baseUrl:function(t){u=t},defaultFetchOptions:function(t){o=t}};t(e)}function n(e,n){var i=u+n.url,a=n.data;return delete n.url,n.method=e,n.body=a,n.json=!0,(0,r.extend)(n,o),t(i,n)}function i(t){if(t.id)return t.id;throw"use yawp(id) if your endpoint does not have a @Id field called id"}function a(t){function e(t){return 1===arguments.length?p.where=t:p.where=[].slice.call(arguments),this}function r(t){return p.order=t,this}function o(t){return p.sort=t,this}function i(t){return p.limit=t,this}function a(e){return n("GET",t()).then(e)}function c(){Object.keys(p).length>0&&t.addQueryParameter("q",JSON.stringify(p))}function f(e){c();var n=u+t().url+(t().query?"?"+toUrlParam(t().query):"");return e?decodeURIComponent(n):n}function s(e){return c(),n("GET",t()).then(e)}function d(t){return i(1),s(function(e){var n=0===e.length?null:e[0];t&&t(n)})}function l(t){return s(function(e){if(1!==e.length)throw"called only but got "+e.length+" results";t&&t(e[0])})}var p={};return{where:e,order:r,sort:o,limit:i,fetch:a,list:s,first:d,only:l,url:f}}function c(t){function e(e){return t().data=JSON.stringify(e),n("POST",t())}function r(e){return t().data=JSON.stringify(e),n("PUT",t())}function u(e){return t().data=JSON.stringify(e),n("PATCH",t())}function o(){return n("DELETE",t())}return{create:e,update:r,patch:u,destroy:o}}function f(t){function e(e){return t().url+="/"+e,t()}function r(e){return t.setJson(e),this}function u(e){return t.addQueryParameters(e),this}function o(t){return n("GET",e(t))}function i(t){return n("PUT",e(t))}function a(t){return n("PATCH",e(t))}function c(t){return n("POST",e(t))}function f(t){return n("DELETE",e(t))}return{json:r,params:u,get:o,put:i,_patch:a,post:c,_delete:f}}function s(t){function e(t){return t?t instanceof Object?i(t):t:""}function n(){return d}function u(t){var r=e(t);return n().url=r+n().url,this}function o(t){return n.addQueryParameter("t",t),this}function s(){return d.async=!1,this}var d={url:e(t),async:!0};return n.setJson=function(t){d.data=JSON.stringify(t)},n.addQueryParameters=function(t){d.query=(0,r.extend)(d.query,t)},n.addQueryParameter=function(t,e){d.query||(d.query={}),d.query[t]=e},(0,r.extend)({from:u,transform:o,sync:s},a(n),c(n),f(n))}function d(t){var e=i(t);return s(e).update(t)}function l(t){var e=i(t);return s(e).patch(t)}function p(t){var e=i(t);return s(e).destroy(t)}var y={config:e,update:d,patch:l,destroy:p};return(0,r.extend)(s,y)};var r=n(2),u="/api",o={};t.exports=e["default"]}])});
//# sourceMappingURL=yawp.min.js.map