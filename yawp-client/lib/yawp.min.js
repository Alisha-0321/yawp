!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("yawp",[],n):"object"==typeof exports?exports.yawp=n():t.yawp=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var u=e[r]={exports:{},id:r,loaded:!1};return t[r].call(u.exports,u,u.exports,n),u.loaded=!0,u.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var u=e(1),o=r(u);n["default"]=o["default"],t.exports=n["default"]},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(){function t(t){var n={baseUrl:function(t){p=t}};t(n)}function n(){for(var t=arguments[0]||{},n=1,e=arguments.length;n<e;n++){var r=arguments[n];for(var u in r)t[u]=r[u]}return t}function e(t){return Object.keys(t).map(function(n){return encodeURIComponent(n)+"="+encodeURIComponent(t[n])}).join("&")}function r(t,r){var u,o,i,a,c,f,s;s=p+r.url+(r.query?"?"+e(r.query):"");var d={fail:function(t){return u=t,f.onreadystatechange(),d},done:function(t){return o=t,f.onreadystatechange(),d},exception:function(t){return i=t,f.onreadystatechange(),d},then:function(t){return a=t,f.onreadystatechange(),d},error:function(t){return c=t,f.onreadystatechange(),d}};return f=new XMLHttpRequest,f.onreadystatechange=function(){4===f.readyState&&(200===f.status?(o&&o(JSON.parse(f.responseText)),a&&a(JSON.parse(f.responseText))):(u&&u(f),c&&c(n({},f,{responseJSON:JSON.parse(f.responseText)})),i&&i(JSON.parse(f.responseText))))},f.open(t,s,r.async),f.setRequestHeader("Content-type","application/json;charset=UTF-8"),f.send(r.data),d}function u(t){if(t.id)return t.id;throw"use yawp(id) if your endpoint does not have a @Id field called id"}function o(t){function n(t){return 1===arguments.length?y.where=t:y.where=[].slice.call(arguments),this}function u(t){return y.order=t,this}function o(t){return y.sort=t,this}function i(t){return y.limit=t,this}function a(n){return r("GET",t()).done(n)}function c(){Object.keys(y).length>0&&t.addQueryParameter("q",JSON.stringify(y))}function f(n){c();var r=p+t().url+(t().query?"?"+e(t().query):"");return n?decodeURIComponent(r):r}function s(n){return c(),r("GET",t()).done(n)}function d(t){return i(1),s(function(n){var e=0===n.length?null:n[0];t&&t(e)})}function l(t){return s(function(n){if(1!==n.length)throw"called only but got "+n.length+" results";t&&t(n[0])})}var y={};return{where:n,order:u,sort:o,limit:i,fetch:a,list:s,first:d,only:l,url:f}}function i(t){function n(n){return t().data=JSON.stringify(n),r("POST",t())}function e(n){return t().data=JSON.stringify(n),r("PUT",t())}function u(n){return t().data=JSON.stringify(n),r("PATCH",t())}function o(){return r("DELETE",t())}return{create:n,update:e,patch:u,destroy:o}}function a(t){function n(n){return t().url+="/"+n,t()}function e(n){return t.setJson(n),this}function u(n){return t.addQueryParameters(n),this}function o(t){return r("GET",n(t))}function i(t){return r("PUT",n(t))}function a(t){return r("PATCH",n(t))}function c(t){return r("POST",n(t))}function f(t){return r("DELETE",n(t))}return{json:e,params:u,get:o,put:i,_patch:a,post:c,_delete:f}}function c(t){function e(t){return t?t instanceof Object?u(t):t:""}function r(){return d}function c(t){var n=e(t);return r().url=n+r().url,this}function f(t){return r.addQueryParameter("t",t),this}function s(){return d.async=!1,this}var d={url:e(t),async:!0};return r.setJson=function(t){d.data=JSON.stringify(t)},r.addQueryParameters=function(t){d.query=n(d.query,t)},r.addQueryParameter=function(t,n){d.query||(d.query={}),d.query[t]=n},n({from:c,transform:f,sync:s},o(r),i(r),a(r))}function f(t){var n=u(t);return c(n).update(t)}function s(t){var n=u(t);return c(n).patch(t)}function d(t){var n=u(t);return c(n).destroy(t)}var p="/api",l={config:t,update:f,patch:s,destroy:d};return n(c,l)}(),t.exports=n["default"]}])});
//# sourceMappingURL=yawp.min.js.map